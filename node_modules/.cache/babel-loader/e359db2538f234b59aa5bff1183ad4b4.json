{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\store\\modules\\permission.js","mtime":1593517268976},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9OZWFsIFdhbmcvSWRlYVByb2plY3RzL3Jlc2N1ZV93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZmlsdGVyQXN5bmNSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlczsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIik7Cgp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL05lYWwgV2FuZy9JZGVhUHJvamVjdHMvcmVzY3VlX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKTsKCnZhciBfcm91dGVyID0gcmVxdWlyZSgiQC9yb3V0ZXIiKTsKCi8qKg0KICogRmlsdGVyIGFzeW5jaHJvbm91cyByb3V0aW5nIHRhYmxlcyBieSByZWN1cnNpb24NCiAqIEBwYXJhbSByb3V0ZXMgYXN5bmNSb3V0ZXMNCiAqIEBwYXJhbSBhY2Nlc3MNCiAqLwpmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcyhyb3V0ZXMsIGFjY2VzcykgewogIHZhciByZXMgPSBbXTsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgIHZhciB0bXAgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHJvdXRlKTsKCiAgICBpZiAoYWNjZXNzW3JvdXRlLm5hbWVdICYmIGFjY2Vzc1tyb3V0ZS5uYW1lXS5hbGxvdykgewogICAgICBpZiAodG1wLmNoaWxkcmVuKSB7CiAgICAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCBhY2Nlc3Nbcm91dGUubmFtZV0pOwogICAgICB9CgogICAgICByZXMucHVzaCh0bXApOwogICAgfQogIH0pOwogIHJldHVybiByZXM7Cn0gLy8gbGV0IHMgPSAnJwovLyBleHBvcnQgZnVuY3Rpb24gZmlsdGVyQXN5bmNSb3V0ZXMocm91dGVzLCBhY2Nlc3MsIGxldmVsLHBhcmVudElkKSB7Ci8vICAgbGV0IHNvcnQgPSAxCi8vICAgY29uc3QgcmVzID0gW10KLy8gICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiB7Ci8vICAgICBjb25zdCB0bXAgPSB7IC4uLnJvdXRlIH0KLy8gICAgIGxldCBpZD0nJwovLyAgICAgaWYobGV2ZWw9PTEpaWQ9JzAnK3NvcnQrJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcKLy8gICAgIGVsc2UgaWQ9cGFyZW50SWQuc3Vic3RyKDAsMykrc29ydCsnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcKLy8gICAgIHMgKz1pZCsnICcrcGFyZW50SWQrJyAnICsgdG1wLm5hbWUgKyAnICcgKyAodG1wLm1ldGE/KHRtcC5tZXRhLnRpdGxlP3RtcC5tZXRhLnRpdGxlOicnKTonJykgKyAnICcrIGxldmVsICsgJyAnICsgc29ydCArICdcclxuJwovLyAgICAgc29ydCsrCi8vICAgICBpZiAodG1wLmNoaWxkcmVuKSB7Ci8vICAgICAgIHRtcC5jaGlsZHJlbiA9IGZpbHRlckFzeW5jUm91dGVzKHRtcC5jaGlsZHJlbiwgYWNjZXNzW3JvdXRlLm5hbWVdLCBsZXZlbCArIDEsaWQpCi8vICAgICB9Ci8vICAgICBlbHNlewovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgdmlldyDmtY/op4ggMyAxJysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKycyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIGNyZWF0ZSDmt7vliqAgMyAyJysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKyczMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIHVwZGF0ZSDkv67mlLkgMyAzJysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKyc0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIGRlbGV0ZSDliKDpmaQgMyA0JysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKyc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIGRldGFpbCDor6bmg4UgMyA1JysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKyc2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIGltcG9ydCDlr7zlhaUgMyA2JysnXHJcbicKLy8gICAgICAgcyArPWlkLnN1YnN0cigwLDUpKyc3MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKycgJytpZCsnIGV4cG9ydCDlr7zlh7ogMyA3JysnXHJcbicKLy8gICAgIH0KLy8gICAgIHJlcy5wdXNoKHRtcCkKLy8gICB9KQovLyAgIHJldHVybiByZXMKLy8gfQoKCnZhciBzdGF0ZSA9IHsKICByb3V0ZXM6IFtdLAogIGFkZFJvdXRlczogW10KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfUk9VVEVTOiBmdW5jdGlvbiBTRVRfUk9VVEVTKHN0YXRlLCByb3V0ZXMpIHsKICAgIHN0YXRlLmFkZFJvdXRlcyA9IHJvdXRlczsKICAgIHN0YXRlLnJvdXRlcyA9IF9yb3V0ZXIuY29uc3RhbnRSb3V0ZXMuY29uY2F0KHJvdXRlcyk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZW5lcmF0ZVJvdXRlczogZnVuY3Rpb24gZ2VuZXJhdGVSb3V0ZXMoX3JlZiwgYWNjZXNzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgdmFyIGFjY2Vzc2VkUm91dGVzID0gW107CiAgICAgIGFjY2Vzc2VkUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXMoX3JvdXRlci5hc3luY1JvdXRlcywgYWNjZXNzKTsgLy8gYWNjZXNzZWRSb3V0ZXMgPSBhc3luY1JvdXRlcwoKICAgICAgY29tbWl0KCdTRVRfUk9VVEVTJywgYWNjZXNzZWRSb3V0ZXMpOwogICAgICByZXNvbHZlKGFjY2Vzc2VkUm91dGVzKTsKICAgIH0pOwogIH0KfTsKdmFyIF9kZWZhdWx0ID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["C:/Users/Neal Wang/IdeaProjects/rescue_web/src/store/modules/permission.js"],"names":["filterAsyncRoutes","routes","access","res","forEach","route","tmp","name","allow","children","push","state","addRoutes","mutations","SET_ROUTES","constantRoutes","concat","actions","generateRoutes","commit","Promise","resolve","accessedRoutes","asyncRoutes","namespaced"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;AAKO,SAASA,iBAAT,CAA2BC,MAA3B,EAAmCC,MAAnC,EAA2C;AAChD,MAAMC,GAAG,GAAG,EAAZ;AACAF,EAAAA,MAAM,CAACG,OAAP,CAAe,UAAAC,KAAK,EAAI;AACtB,QAAMC,GAAG,mCAAQD,KAAR,CAAT;;AACA,QAAIH,MAAM,CAACG,KAAK,CAACE,IAAP,CAAN,IAAsBL,MAAM,CAACG,KAAK,CAACE,IAAP,CAAN,CAAmBC,KAA7C,EAAoD;AAClD,UAAIF,GAAG,CAACG,QAAR,EAAkB;AAChBH,QAAAA,GAAG,CAACG,QAAJ,GAAeT,iBAAiB,CAACM,GAAG,CAACG,QAAL,EAAeP,MAAM,CAACG,KAAK,CAACE,IAAP,CAArB,CAAhC;AACD;;AACDJ,MAAAA,GAAG,CAACO,IAAJ,CAASJ,GAAT;AACD;AACF,GARD;AASA,SAAOH,GAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMQ,KAAK,GAAG;AACZV,EAAAA,MAAM,EAAE,EADI;AAEZW,EAAAA,SAAS,EAAE;AAFC,CAAd;AAKA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE,oBAACH,KAAD,EAAQV,MAAR,EAAmB;AAC7BU,IAAAA,KAAK,CAACC,SAAN,GAAkBX,MAAlB;AACAU,IAAAA,KAAK,CAACV,MAAN,GAAec,uBAAeC,MAAf,CAAsBf,MAAtB,CAAf;AACD;AAJe,CAAlB;AAOA,IAAMgB,OAAO,GAAG;AACdC,EAAAA,cADc,gCACahB,MADb,EACqB;AAAA,QAAlBiB,MAAkB,QAAlBA,MAAkB;AACjC,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,UAAIC,cAAc,GAAG,EAArB;AACAA,MAAAA,cAAc,GAAGtB,iBAAiB,CAACuB,mBAAD,EAAcrB,MAAd,CAAlC,CAF4B,CAG5B;;AACAiB,MAAAA,MAAM,CAAC,YAAD,EAAeG,cAAf,CAAN;AACAD,MAAAA,OAAO,CAACC,cAAD,CAAP;AACD,KANM,CAAP;AAOD;AATa,CAAhB;eAYe;AACbE,EAAAA,UAAU,EAAE,IADC;AAEbb,EAAAA,KAAK,EAALA,KAFa;AAGbE,EAAAA,SAAS,EAATA,SAHa;AAIbI,EAAAA,OAAO,EAAPA;AAJa,C","sourcesContent":["import { asyncRoutes, constantRoutes } from '@/router'\r\n\r\n/**\r\n * Filter asynchronous routing tables by recursion\r\n * @param routes asyncRoutes\r\n * @param access\r\n */\r\nexport function filterAsyncRoutes(routes, access) {\r\n  const res = []\r\n  routes.forEach(route => {\r\n    const tmp = { ...route }\r\n    if (access[route.name] && access[route.name].allow) {\r\n      if (tmp.children) {\r\n        tmp.children = filterAsyncRoutes(tmp.children, access[route.name])\r\n      }\r\n      res.push(tmp)\r\n    }\r\n  })\r\n  return res\r\n}\r\n\r\n// let s = ''\r\n// export function filterAsyncRoutes(routes, access, level,parentId) {\r\n//   let sort = 1\r\n//   const res = []\r\n//   routes.forEach(route => {\r\n//     const tmp = { ...route }\r\n//     let id=''\r\n//     if(level==1)id='0'+sort+'000000000000000000000000000000'\r\n//     else id=parentId.substr(0,3)+sort+'0000000000000000000000000000'\r\n//     s +=id+' '+parentId+' ' + tmp.name + ' ' + (tmp.meta?(tmp.meta.title?tmp.meta.title:''):'') + ' '+ level + ' ' + sort + '\\r\\n'\r\n//     sort++\r\n//     if (tmp.children) {\r\n//       tmp.children = filterAsyncRoutes(tmp.children, access[route.name], level + 1,id)\r\n//     }\r\n//     else{\r\n//       s +=id.substr(0,5)+'100000000000000000000000000'+' '+id+' view 浏览 3 1'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'200000000000000000000000000'+' '+id+' create 添加 3 2'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'300000000000000000000000000'+' '+id+' update 修改 3 3'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'400000000000000000000000000'+' '+id+' delete 删除 3 4'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'500000000000000000000000000'+' '+id+' detail 详情 3 5'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'600000000000000000000000000'+' '+id+' import 导入 3 6'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'700000000000000000000000000'+' '+id+' export 导出 3 7'+'\\r\\n'\r\n//     }\r\n//     res.push(tmp)\r\n//   })\r\n//   return res\r\n// }\r\n\r\nconst state = {\r\n  routes: [],\r\n  addRoutes: []\r\n}\r\n\r\nconst mutations = {\r\n  SET_ROUTES: (state, routes) => {\r\n    state.addRoutes = routes\r\n    state.routes = constantRoutes.concat(routes)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateRoutes({ commit }, access) {\r\n    return new Promise(resolve => {\r\n      let accessedRoutes = []\r\n      accessedRoutes = filterAsyncRoutes(asyncRoutes, access)\r\n      // accessedRoutes = asyncRoutes\r\n      commit('SET_ROUTES', accessedRoutes)\r\n      resolve(accessedRoutes)\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n"]}]}