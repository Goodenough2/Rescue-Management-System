{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\store\\modules\\permission.js","mtime":1593517268976},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Neal Wang/IdeaProjects/mingxin_web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filterAsyncRoutes = filterAsyncRoutes;\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"C:/Users/Neal Wang/IdeaProjects/mingxin_web/node_modules/@babel/runtime/helpers/objectSpread2\"));\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _router = require(\"@/router\");\n\n/**\r\n * Filter asynchronous routing tables by recursion\r\n * @param routes asyncRoutes\r\n * @param access\r\n */\nfunction filterAsyncRoutes(routes, access) {\n  var res = [];\n  routes.forEach(function (route) {\n    var tmp = (0, _objectSpread2.default)({}, route);\n\n    if (access[route.name] && access[route.name].allow) {\n      if (tmp.children) {\n        tmp.children = filterAsyncRoutes(tmp.children, access[route.name]);\n      }\n\n      res.push(tmp);\n    }\n  });\n  return res;\n} // let s = ''\n// export function filterAsyncRoutes(routes, access, level,parentId) {\n//   let sort = 1\n//   const res = []\n//   routes.forEach(route => {\n//     const tmp = { ...route }\n//     let id=''\n//     if(level==1)id='0'+sort+'000000000000000000000000000000'\n//     else id=parentId.substr(0,3)+sort+'0000000000000000000000000000'\n//     s +=id+' '+parentId+' ' + tmp.name + ' ' + (tmp.meta?(tmp.meta.title?tmp.meta.title:''):'') + ' '+ level + ' ' + sort + '\\r\\n'\n//     sort++\n//     if (tmp.children) {\n//       tmp.children = filterAsyncRoutes(tmp.children, access[route.name], level + 1,id)\n//     }\n//     else{\n//       s +=id.substr(0,5)+'100000000000000000000000000'+' '+id+' view 浏览 3 1'+'\\r\\n'\n//       s +=id.substr(0,5)+'200000000000000000000000000'+' '+id+' create 添加 3 2'+'\\r\\n'\n//       s +=id.substr(0,5)+'300000000000000000000000000'+' '+id+' update 修改 3 3'+'\\r\\n'\n//       s +=id.substr(0,5)+'400000000000000000000000000'+' '+id+' delete 删除 3 4'+'\\r\\n'\n//       s +=id.substr(0,5)+'500000000000000000000000000'+' '+id+' detail 详情 3 5'+'\\r\\n'\n//       s +=id.substr(0,5)+'600000000000000000000000000'+' '+id+' import 导入 3 6'+'\\r\\n'\n//       s +=id.substr(0,5)+'700000000000000000000000000'+' '+id+' export 导出 3 7'+'\\r\\n'\n//     }\n//     res.push(tmp)\n//   })\n//   return res\n// }\n\n\nvar state = {\n  routes: [],\n  addRoutes: []\n};\nvar mutations = {\n  SET_ROUTES: function SET_ROUTES(state, routes) {\n    state.addRoutes = routes;\n    state.routes = _router.constantRoutes.concat(routes);\n  }\n};\nvar actions = {\n  generateRoutes: function generateRoutes(_ref, access) {\n    var commit = _ref.commit;\n    return new Promise(function (resolve) {\n      var accessedRoutes = [];\n      accessedRoutes = filterAsyncRoutes(_router.asyncRoutes, access); // accessedRoutes = asyncRoutes\n\n      commit('SET_ROUTES', accessedRoutes);\n      resolve(accessedRoutes);\n    });\n  }\n};\nvar _default = {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};\nexports.default = _default;",null]}