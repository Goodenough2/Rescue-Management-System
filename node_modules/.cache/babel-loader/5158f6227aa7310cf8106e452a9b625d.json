{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\utils\\error-log.js","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\utils\\error-log.js","mtime":1593516448843},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9OZWFsIFdhbmcvSWRlYVByb2plY3RzL21pbmd4aW5fd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzNy5hcnJheS5pbmNsdWRlcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaW5jbHVkZXMiKTsKCnZhciBfdnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUiKSk7Cgp2YXIgX3N0b3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3N0b3JlIikpOwoKdmFyIF92YWxpZGF0ZSA9IHJlcXVpcmUoIkAvdXRpbHMvdmFsaWRhdGUiKTsKCnZhciBfc2V0dGluZ3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc2V0dGluZ3MiKSk7CgovLyB5b3UgY2FuIHNldCBpbiBzZXR0aW5ncy5qcwovLyBlcnJvckxvZzoncHJvZHVjdGlvbicgfCBbJ3Byb2R1Y3Rpb24nLCAnZGV2ZWxvcG1lbnQnXQp2YXIgbmVlZEVycm9yTG9nID0gX3NldHRpbmdzLmRlZmF1bHQuZXJyb3JMb2c7CgpmdW5jdGlvbiBjaGVja05lZWQoKSB7CiAgdmFyIGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WOwoKICBpZiAoKDAsIF92YWxpZGF0ZS5pc1N0cmluZykobmVlZEVycm9yTG9nKSkgewogICAgcmV0dXJuIGVudiA9PT0gbmVlZEVycm9yTG9nOwogIH0KCiAgaWYgKCgwLCBfdmFsaWRhdGUuaXNBcnJheSkobmVlZEVycm9yTG9nKSkgewogICAgcmV0dXJuIG5lZWRFcnJvckxvZy5pbmNsdWRlcyhlbnYpOwogIH0KCiAgcmV0dXJuIGZhbHNlOwp9CgppZiAoY2hlY2tOZWVkKCkpIHsKICBfdnVlLmRlZmF1bHQuY29uZmlnLmVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlcnIsIHZtLCBpbmZvLCBhKSB7CiAgICAvLyBEb24ndCBhc2sgbWUgd2h5IEkgdXNlIFZ1ZS5uZXh0VGljaywgaXQganVzdCBhIGhhY2suCiAgICAvLyBkZXRhaWwgc2VlIGh0dHBzOi8vZm9ydW0udnVlanMub3JnL3QvZGlzcGF0Y2gtaW4tdnVlLWNvbmZpZy1lcnJvcmhhbmRsZXItaGFzLXNvbWUtcHJvYmxlbS8yMzUwMAogICAgX3Z1ZS5kZWZhdWx0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ2Vycm9yTG9nL2FkZEVycm9yTG9nJywgewogICAgICAgIGVycjogZXJyLAogICAgICAgIHZtOiB2bSwKICAgICAgICBpbmZvOiBpbmZvLAogICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYKICAgICAgfSk7CgogICAgICBjb25zb2xlLmVycm9yKGVyciwgaW5mbyk7CiAgICB9KTsKICB9Owp9"},{"version":3,"sources":["C:/Users/Neal Wang/IdeaProjects/mingxin_web/src/utils/error-log.js"],"names":["needErrorLog","settings","errorLog","checkNeed","env","process","NODE_ENV","includes","Vue","config","errorHandler","err","vm","info","a","nextTick","store","dispatch","url","window","location","href","console","error"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;AACA;IACkBA,Y,GAAiBC,iB,CAA3BC,Q;;AAER,SAASC,SAAT,GAAqB;AACnB,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAxB;;AACA,MAAI,wBAASN,YAAT,CAAJ,EAA4B;AAC1B,WAAOI,GAAG,KAAKJ,YAAf;AACD;;AACD,MAAI,uBAAQA,YAAR,CAAJ,EAA2B;AACzB,WAAOA,YAAY,CAACO,QAAb,CAAsBH,GAAtB,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAED,IAAID,SAAS,EAAb,EAAiB;AACfK,eAAIC,MAAJ,CAAWC,YAAX,GAA0B,UAASC,GAAT,EAAcC,EAAd,EAAkBC,IAAlB,EAAwBC,CAAxB,EAA2B;AACrD;AACA;AACEN,iBAAIO,QAAJ,CAAa,YAAM;AACjBC,qBAAMC,QAAN,CAAe,sBAAf,EAAuC;AACrCN,QAAAA,GAAG,EAAHA,GADqC;AAErCC,QAAAA,EAAE,EAAFA,EAFqC;AAGrCC,QAAAA,IAAI,EAAJA,IAHqC;AAIrCK,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAJgB,OAAvC;;AAMAC,MAAAA,OAAO,CAACC,KAAR,CAAcZ,GAAd,EAAmBE,IAAnB;AACD,KARD;AASD,GAZD;AAaD","sourcesContent":["import Vue from 'vue'\r\nimport store from '@/store'\r\nimport { isString, isArray } from '@/utils/validate'\r\nimport settings from '@/settings'\r\n\r\n// you can set in settings.js\r\n// errorLog:'production' | ['production', 'development']\r\nconst { errorLog: needErrorLog } = settings\r\n\r\nfunction checkNeed() {\r\n  const env = process.env.NODE_ENV\r\n  if (isString(needErrorLog)) {\r\n    return env === needErrorLog\r\n  }\r\n  if (isArray(needErrorLog)) {\r\n    return needErrorLog.includes(env)\r\n  }\r\n  return false\r\n}\r\n\r\nif (checkNeed()) {\r\n  Vue.config.errorHandler = function(err, vm, info, a) {\r\n  // Don't ask me why I use Vue.nextTick, it just a hack.\r\n  // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\r\n    Vue.nextTick(() => {\r\n      store.dispatch('errorLog/addErrorLog', {\r\n        err,\r\n        vm,\r\n        info,\r\n        url: window.location.href\r\n      })\r\n      console.error(err, info)\r\n    })\r\n  }\r\n}\r\n"]}]}