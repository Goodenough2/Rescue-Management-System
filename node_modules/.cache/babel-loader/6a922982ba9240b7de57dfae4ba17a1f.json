{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\store\\modules\\permission.js","mtime":1593517268976},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9OZWFsIFdhbmcvSWRlYVByb2plY3RzL21pbmd4aW5fd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmZpbHRlckFzeW5jUm91dGVzID0gZmlsdGVyQXN5bmNSb3V0ZXM7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZSIpOwoKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9OZWFsIFdhbmcvSWRlYVByb2plY3RzL21pbmd4aW5fd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIiKSk7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpOwoKdmFyIF9yb3V0ZXIgPSByZXF1aXJlKCJAL3JvdXRlciIpOwoKLyoqDQogKiBGaWx0ZXIgYXN5bmNocm9ub3VzIHJvdXRpbmcgdGFibGVzIGJ5IHJlY3Vyc2lvbg0KICogQHBhcmFtIHJvdXRlcyBhc3luY1JvdXRlcw0KICogQHBhcmFtIGFjY2Vzcw0KICovCmZ1bmN0aW9uIGZpbHRlckFzeW5jUm91dGVzKHJvdXRlcywgYWNjZXNzKSB7CiAgdmFyIHJlcyA9IFtdOwogIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgdmFyIHRtcCA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgcm91dGUpOwoKICAgIGlmIChhY2Nlc3Nbcm91dGUubmFtZV0gJiYgYWNjZXNzW3JvdXRlLm5hbWVdLmFsbG93KSB7CiAgICAgIGlmICh0bXAuY2hpbGRyZW4pIHsKICAgICAgICB0bXAuY2hpbGRyZW4gPSBmaWx0ZXJBc3luY1JvdXRlcyh0bXAuY2hpbGRyZW4sIGFjY2Vzc1tyb3V0ZS5uYW1lXSk7CiAgICAgIH0KCiAgICAgIHJlcy5wdXNoKHRtcCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJlczsKfSAvLyBsZXQgcyA9ICcnCi8vIGV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcyhyb3V0ZXMsIGFjY2VzcywgbGV2ZWwscGFyZW50SWQpIHsKLy8gICBsZXQgc29ydCA9IDEKLy8gICBjb25zdCByZXMgPSBbXQovLyAgIHJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IHsKLy8gICAgIGNvbnN0IHRtcCA9IHsgLi4ucm91dGUgfQovLyAgICAgbGV0IGlkPScnCi8vICAgICBpZihsZXZlbD09MSlpZD0nMCcrc29ydCsnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwovLyAgICAgZWxzZSBpZD1wYXJlbnRJZC5zdWJzdHIoMCwzKStzb3J0KycwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwovLyAgICAgcyArPWlkKycgJytwYXJlbnRJZCsnICcgKyB0bXAubmFtZSArICcgJyArICh0bXAubWV0YT8odG1wLm1ldGEudGl0bGU/dG1wLm1ldGEudGl0bGU6JycpOicnKSArICcgJysgbGV2ZWwgKyAnICcgKyBzb3J0ICsgJ1xyXG4nCi8vICAgICBzb3J0KysKLy8gICAgIGlmICh0bXAuY2hpbGRyZW4pIHsKLy8gICAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCBhY2Nlc3Nbcm91dGUubmFtZV0sIGxldmVsICsgMSxpZCkKLy8gICAgIH0KLy8gICAgIGVsc2V7Ci8vICAgICAgIHMgKz1pZC5zdWJzdHIoMCw1KSsnMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJysnICcraWQrJyB2aWV3IOa1j+iniCAzIDEnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgY3JlYXRlIOa3u+WKoCAzIDInKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgdXBkYXRlIOS/ruaUuSAzIDMnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZGVsZXRlIOWIoOmZpCAzIDQnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZGV0YWlsIOivpuaDhSAzIDUnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgaW1wb3J0IOWvvOWFpSAzIDYnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZXhwb3J0IOWvvOWHuiAzIDcnKydcclxuJwovLyAgICAgfQovLyAgICAgcmVzLnB1c2godG1wKQovLyAgIH0pCi8vICAgcmV0dXJuIHJlcwovLyB9CgoKdmFyIHN0YXRlID0gewogIHJvdXRlczogW10sCiAgYWRkUm91dGVzOiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUuYWRkUm91dGVzID0gcm91dGVzOwogICAgc3RhdGUucm91dGVzID0gX3JvdXRlci5jb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdXRlcyhfcmVmLCBhY2Nlc3MpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICB2YXIgYWNjZXNzZWRSb3V0ZXMgPSBbXTsKICAgICAgYWNjZXNzZWRSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcyhfcm91dGVyLmFzeW5jUm91dGVzLCBhY2Nlc3MpOyAvLyBhY2Nlc3NlZFJvdXRlcyA9IGFzeW5jUm91dGVzCgogICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCBhY2Nlc3NlZFJvdXRlcyk7CiAgICAgIHJlc29sdmUoYWNjZXNzZWRSb3V0ZXMpOwogICAgfSk7CiAgfQp9Owp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["C:/Users/Neal Wang/IdeaProjects/mingxin_web/src/store/modules/permission.js"],"names":["filterAsyncRoutes","routes","access","res","forEach","route","tmp","name","allow","children","push","state","addRoutes","mutations","SET_ROUTES","constantRoutes","concat","actions","generateRoutes","commit","Promise","resolve","accessedRoutes","asyncRoutes","namespaced"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;AAKO,SAASA,iBAAT,CAA2BC,MAA3B,EAAmCC,MAAnC,EAA2C;AAChD,MAAMC,GAAG,GAAG,EAAZ;AACAF,EAAAA,MAAM,CAACG,OAAP,CAAe,UAAAC,KAAK,EAAI;AACtB,QAAMC,GAAG,mCAAQD,KAAR,CAAT;;AACA,QAAIH,MAAM,CAACG,KAAK,CAACE,IAAP,CAAN,IAAsBL,MAAM,CAACG,KAAK,CAACE,IAAP,CAAN,CAAmBC,KAA7C,EAAoD;AAClD,UAAIF,GAAG,CAACG,QAAR,EAAkB;AAChBH,QAAAA,GAAG,CAACG,QAAJ,GAAeT,iBAAiB,CAACM,GAAG,CAACG,QAAL,EAAeP,MAAM,CAACG,KAAK,CAACE,IAAP,CAArB,CAAhC;AACD;;AACDJ,MAAAA,GAAG,CAACO,IAAJ,CAASJ,GAAT;AACD;AACF,GARD;AASA,SAAOH,GAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMQ,KAAK,GAAG;AACZV,EAAAA,MAAM,EAAE,EADI;AAEZW,EAAAA,SAAS,EAAE;AAFC,CAAd;AAKA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE,oBAACH,KAAD,EAAQV,MAAR,EAAmB;AAC7BU,IAAAA,KAAK,CAACC,SAAN,GAAkBX,MAAlB;AACAU,IAAAA,KAAK,CAACV,MAAN,GAAec,uBAAeC,MAAf,CAAsBf,MAAtB,CAAf;AACD;AAJe,CAAlB;AAOA,IAAMgB,OAAO,GAAG;AACdC,EAAAA,cADc,gCACahB,MADb,EACqB;AAAA,QAAlBiB,MAAkB,QAAlBA,MAAkB;AACjC,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,UAAIC,cAAc,GAAG,EAArB;AACAA,MAAAA,cAAc,GAAGtB,iBAAiB,CAACuB,mBAAD,EAAcrB,MAAd,CAAlC,CAF4B,CAG5B;;AACAiB,MAAAA,MAAM,CAAC,YAAD,EAAeG,cAAf,CAAN;AACAD,MAAAA,OAAO,CAACC,cAAD,CAAP;AACD,KANM,CAAP;AAOD;AATa,CAAhB;eAYe;AACbE,EAAAA,UAAU,EAAE,IADC;AAEbb,EAAAA,KAAK,EAALA,KAFa;AAGbE,EAAAA,SAAS,EAATA,SAHa;AAIbI,EAAAA,OAAO,EAAPA;AAJa,C","sourcesContent":["import { asyncRoutes, constantRoutes } from '@/router'\r\n\r\n/**\r\n * Filter asynchronous routing tables by recursion\r\n * @param routes asyncRoutes\r\n * @param access\r\n */\r\nexport function filterAsyncRoutes(routes, access) {\r\n  const res = []\r\n  routes.forEach(route => {\r\n    const tmp = { ...route }\r\n    if (access[route.name] && access[route.name].allow) {\r\n      if (tmp.children) {\r\n        tmp.children = filterAsyncRoutes(tmp.children, access[route.name])\r\n      }\r\n      res.push(tmp)\r\n    }\r\n  })\r\n  return res\r\n}\r\n\r\n// let s = ''\r\n// export function filterAsyncRoutes(routes, access, level,parentId) {\r\n//   let sort = 1\r\n//   const res = []\r\n//   routes.forEach(route => {\r\n//     const tmp = { ...route }\r\n//     let id=''\r\n//     if(level==1)id='0'+sort+'000000000000000000000000000000'\r\n//     else id=parentId.substr(0,3)+sort+'0000000000000000000000000000'\r\n//     s +=id+' '+parentId+' ' + tmp.name + ' ' + (tmp.meta?(tmp.meta.title?tmp.meta.title:''):'') + ' '+ level + ' ' + sort + '\\r\\n'\r\n//     sort++\r\n//     if (tmp.children) {\r\n//       tmp.children = filterAsyncRoutes(tmp.children, access[route.name], level + 1,id)\r\n//     }\r\n//     else{\r\n//       s +=id.substr(0,5)+'100000000000000000000000000'+' '+id+' view 浏览 3 1'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'200000000000000000000000000'+' '+id+' create 添加 3 2'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'300000000000000000000000000'+' '+id+' update 修改 3 3'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'400000000000000000000000000'+' '+id+' delete 删除 3 4'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'500000000000000000000000000'+' '+id+' detail 详情 3 5'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'600000000000000000000000000'+' '+id+' import 导入 3 6'+'\\r\\n'\r\n//       s +=id.substr(0,5)+'700000000000000000000000000'+' '+id+' export 导出 3 7'+'\\r\\n'\r\n//     }\r\n//     res.push(tmp)\r\n//   })\r\n//   return res\r\n// }\r\n\r\nconst state = {\r\n  routes: [],\r\n  addRoutes: []\r\n}\r\n\r\nconst mutations = {\r\n  SET_ROUTES: (state, routes) => {\r\n    state.addRoutes = routes\r\n    state.routes = constantRoutes.concat(routes)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateRoutes({ commit }, access) {\r\n    return new Promise(resolve => {\r\n      let accessedRoutes = []\r\n      accessedRoutes = filterAsyncRoutes(asyncRoutes, access)\r\n      // accessedRoutes = asyncRoutes\r\n      commit('SET_ROUTES', accessedRoutes)\r\n      resolve(accessedRoutes)\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n"]}]}