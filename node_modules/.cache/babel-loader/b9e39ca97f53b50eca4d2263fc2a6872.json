{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\store\\modules\\permission.js","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\store\\modules\\permission.js","mtime":1609592359342},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9OZWFsIFdhbmcvSWRlYVByb2plY3RzL3Jlc2N1ZV93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZmlsdGVyQXN5bmNSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlczsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIik7Cgp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL05lYWwgV2FuZy9JZGVhUHJvamVjdHMvcmVzY3VlX3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKTsKCnZhciBfcm91dGVyID0gcmVxdWlyZSgiQC9yb3V0ZXIiKTsKCi8qKgogKiBGaWx0ZXIgYXN5bmNocm9ub3VzIHJvdXRpbmcgdGFibGVzIGJ5IHJlY3Vyc2lvbgogKiBAcGFyYW0gcm91dGVzIGFzeW5jUm91dGVzCiAqIEBwYXJhbSBhY2Nlc3MKICovCmZ1bmN0aW9uIGZpbHRlckFzeW5jUm91dGVzKHJvdXRlcywgYWNjZXNzKSB7CiAgdmFyIHJlcyA9IFtdOwogIHJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgdmFyIHRtcCA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgcm91dGUpOyAvLyBpZiAoYWNjZXNzW3JvdXRlLm5hbWVdICYmIGFjY2Vzc1tyb3V0ZS5uYW1lXS5hbGxvdykgewogICAgLy8gICBpZiAodG1wLmNoaWxkcmVuKSB7CiAgICAvLyAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCBhY2Nlc3Nbcm91dGUubmFtZV0pCiAgICAvLyAgIH0KICAgIC8vICAgcmVzLnB1c2godG1wKQogICAgLy8gfQoKICAgIGlmICh0bXAuY2hpbGRyZW4pIHsKICAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCBhY2Nlc3Nbcm91dGUubmFtZV0pOwogICAgfQoKICAgIHJlcy5wdXNoKHRtcCk7CiAgfSk7CiAgcmV0dXJuIHJlczsKfSAvLyBsZXQgcyA9ICcnCi8vIGV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJBc3luY1JvdXRlcyhyb3V0ZXMsIGFjY2VzcywgbGV2ZWwscGFyZW50SWQpIHsKLy8gICBsZXQgc29ydCA9IDEKLy8gICBjb25zdCByZXMgPSBbXQovLyAgIHJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IHsKLy8gICAgIGNvbnN0IHRtcCA9IHsgLi4ucm91dGUgfQovLyAgICAgbGV0IGlkPScnCi8vICAgICBpZihsZXZlbD09MSlpZD0nMCcrc29ydCsnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwovLyAgICAgZWxzZSBpZD1wYXJlbnRJZC5zdWJzdHIoMCwzKStzb3J0KycwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwovLyAgICAgcyArPWlkKycgJytwYXJlbnRJZCsnICcgKyB0bXAubmFtZSArICcgJyArICh0bXAubWV0YT8odG1wLm1ldGEudGl0bGU/dG1wLm1ldGEudGl0bGU6JycpOicnKSArICcgJysgbGV2ZWwgKyAnICcgKyBzb3J0ICsgJ1xyXG4nCi8vICAgICBzb3J0KysKLy8gICAgIGlmICh0bXAuY2hpbGRyZW4pIHsKLy8gICAgICAgdG1wLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXModG1wLmNoaWxkcmVuLCBhY2Nlc3Nbcm91dGUubmFtZV0sIGxldmVsICsgMSxpZCkKLy8gICAgIH0KLy8gICAgIGVsc2V7Ci8vICAgICAgIHMgKz1pZC5zdWJzdHIoMCw1KSsnMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJysnICcraWQrJyB2aWV3IOa1j+iniCAzIDEnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgY3JlYXRlIOa3u+WKoCAzIDInKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgdXBkYXRlIOS/ruaUuSAzIDMnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZGVsZXRlIOWIoOmZpCAzIDQnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZGV0YWlsIOivpuaDhSAzIDUnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgaW1wb3J0IOWvvOWFpSAzIDYnKydcclxuJwovLyAgICAgICBzICs9aWQuc3Vic3RyKDAsNSkrJzcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcrJyAnK2lkKycgZXhwb3J0IOWvvOWHuiAzIDcnKydcclxuJwovLyAgICAgfQovLyAgICAgcmVzLnB1c2godG1wKQovLyAgIH0pCi8vICAgcmV0dXJuIHJlcwovLyB9CgoKdmFyIHN0YXRlID0gewogIHJvdXRlczogW10sCiAgYWRkUm91dGVzOiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUuYWRkUm91dGVzID0gcm91dGVzOwogICAgc3RhdGUucm91dGVzID0gX3JvdXRlci5jb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdXRlcyhfcmVmLCBhY2Nlc3MpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICB2YXIgYWNjZXNzZWRSb3V0ZXMgPSBbXTsKICAgICAgYWNjZXNzZWRSb3V0ZXMgPSBmaWx0ZXJBc3luY1JvdXRlcyhfcm91dGVyLmFzeW5jUm91dGVzLCBhY2Nlc3MpOyAvLyBhY2Nlc3NlZFJvdXRlcyA9IGFzeW5jUm91dGVzCgogICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCBhY2Nlc3NlZFJvdXRlcyk7CiAgICAgIHJlc29sdmUoYWNjZXNzZWRSb3V0ZXMpOwogICAgfSk7CiAgfQp9Owp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["C:/Users/Neal Wang/IdeaProjects/rescue_web/src/store/modules/permission.js"],"names":["filterAsyncRoutes","routes","access","res","forEach","route","tmp","children","name","push","state","addRoutes","mutations","SET_ROUTES","constantRoutes","concat","actions","generateRoutes","commit","Promise","resolve","accessedRoutes","asyncRoutes","namespaced"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;AAKO,SAASA,iBAAT,CAA2BC,MAA3B,EAAmCC,MAAnC,EAA2C;AAChD,MAAMC,GAAG,GAAG,EAAZ;AACAF,EAAAA,MAAM,CAACG,OAAP,CAAe,UAAAC,KAAK,EAAI;AACtB,QAAMC,GAAG,mCAAQD,KAAR,CAAT,CADsB,CAEtB;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIC,GAAG,CAACC,QAAR,EAAkB;AAChBD,MAAAA,GAAG,CAACC,QAAJ,GAAeP,iBAAiB,CAACM,GAAG,CAACC,QAAL,EAAeL,MAAM,CAACG,KAAK,CAACG,IAAP,CAArB,CAAhC;AACD;;AACDL,IAAAA,GAAG,CAACM,IAAJ,CAASH,GAAT;AACD,GAZD;AAaA,SAAOH,GAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,IAAMO,KAAK,GAAG;AACZT,EAAAA,MAAM,EAAE,EADI;AAEZU,EAAAA,SAAS,EAAE;AAFC,CAAd;AAKA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE,oBAACH,KAAD,EAAQT,MAAR,EAAmB;AAC7BS,IAAAA,KAAK,CAACC,SAAN,GAAkBV,MAAlB;AACAS,IAAAA,KAAK,CAACT,MAAN,GAAea,uBAAeC,MAAf,CAAsBd,MAAtB,CAAf;AACD;AAJe,CAAlB;AAOA,IAAMe,OAAO,GAAG;AACdC,EAAAA,cADc,gCACaf,MADb,EACqB;AAAA,QAAlBgB,MAAkB,QAAlBA,MAAkB;AACjC,WAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,UAAIC,cAAc,GAAG,EAArB;AACAA,MAAAA,cAAc,GAAGrB,iBAAiB,CAACsB,mBAAD,EAAcpB,MAAd,CAAlC,CAF4B,CAG5B;;AACAgB,MAAAA,MAAM,CAAC,YAAD,EAAeG,cAAf,CAAN;AACAD,MAAAA,OAAO,CAACC,cAAD,CAAP;AACD,KANM,CAAP;AAOD;AATa,CAAhB;eAYe;AACbE,EAAAA,UAAU,EAAE,IADC;AAEbb,EAAAA,KAAK,EAALA,KAFa;AAGbE,EAAAA,SAAS,EAATA,SAHa;AAIbI,EAAAA,OAAO,EAAPA;AAJa,C","sourcesContent":["import { asyncRoutes, constantRoutes } from '@/router'\n\n/**\n * Filter asynchronous routing tables by recursion\n * @param routes asyncRoutes\n * @param access\n */\nexport function filterAsyncRoutes(routes, access) {\n  const res = []\n  routes.forEach(route => {\n    const tmp = { ...route }\n    // if (access[route.name] && access[route.name].allow) {\n    //   if (tmp.children) {\n    //     tmp.children = filterAsyncRoutes(tmp.children, access[route.name])\n    //   }\n    //   res.push(tmp)\n    // }\n    if (tmp.children) {\n      tmp.children = filterAsyncRoutes(tmp.children, access[route.name])\n    }\n    res.push(tmp)\n  })\n  return res\n}\n\n// let s = ''\n// export function filterAsyncRoutes(routes, access, level,parentId) {\n//   let sort = 1\n//   const res = []\n//   routes.forEach(route => {\n//     const tmp = { ...route }\n//     let id=''\n//     if(level==1)id='0'+sort+'000000000000000000000000000000'\n//     else id=parentId.substr(0,3)+sort+'0000000000000000000000000000'\n//     s +=id+' '+parentId+' ' + tmp.name + ' ' + (tmp.meta?(tmp.meta.title?tmp.meta.title:''):'') + ' '+ level + ' ' + sort + '\\r\\n'\n//     sort++\n//     if (tmp.children) {\n//       tmp.children = filterAsyncRoutes(tmp.children, access[route.name], level + 1,id)\n//     }\n//     else{\n//       s +=id.substr(0,5)+'100000000000000000000000000'+' '+id+' view 浏览 3 1'+'\\r\\n'\n//       s +=id.substr(0,5)+'200000000000000000000000000'+' '+id+' create 添加 3 2'+'\\r\\n'\n//       s +=id.substr(0,5)+'300000000000000000000000000'+' '+id+' update 修改 3 3'+'\\r\\n'\n//       s +=id.substr(0,5)+'400000000000000000000000000'+' '+id+' delete 删除 3 4'+'\\r\\n'\n//       s +=id.substr(0,5)+'500000000000000000000000000'+' '+id+' detail 详情 3 5'+'\\r\\n'\n//       s +=id.substr(0,5)+'600000000000000000000000000'+' '+id+' import 导入 3 6'+'\\r\\n'\n//       s +=id.substr(0,5)+'700000000000000000000000000'+' '+id+' export 导出 3 7'+'\\r\\n'\n//     }\n//     res.push(tmp)\n//   })\n//   return res\n// }\n\nconst state = {\n  routes: [],\n  addRoutes: []\n}\n\nconst mutations = {\n  SET_ROUTES: (state, routes) => {\n    state.addRoutes = routes\n    state.routes = constantRoutes.concat(routes)\n  }\n}\n\nconst actions = {\n  generateRoutes({ commit }, access) {\n    return new Promise(resolve => {\n      let accessedRoutes = []\n      accessedRoutes = filterAsyncRoutes(asyncRoutes, access)\n      // accessedRoutes = asyncRoutes\n      commit('SET_ROUTES', accessedRoutes)\n      resolve(accessedRoutes)\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n"]}]}