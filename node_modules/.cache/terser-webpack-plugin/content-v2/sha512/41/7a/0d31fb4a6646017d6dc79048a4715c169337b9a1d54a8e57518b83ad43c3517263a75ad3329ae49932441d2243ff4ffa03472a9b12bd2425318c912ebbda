{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-190bebc2\"],{\"070f\":function(t,e,a){\"use strict\";a.d(e,\"f\",(function(){return i})),a.d(e,\"g\",(function(){return l})),a.d(e,\"h\",(function(){return r})),a.d(e,\"c\",(function(){return s})),a.d(e,\"b\",(function(){return u})),a.d(e,\"a\",(function(){return c})),a.d(e,\"e\",(function(){return d})),a.d(e,\"d\",(function(){return p}));var n=a(\"5530\"),o=a(\"b775\");function i(t,e,a,i){return Object(o[\"a\"])({url:\"/profitApplication/list\",method:\"post\",data:{page:{current:e.current,size:e.size},sort:{property:a.prop,direction:a.order},query:Object(n[\"a\"])({},t),status:i}})}function l(t,e,a,i){return Object(o[\"a\"])({url:\"/profitApproval/list\",method:\"post\",data:{page:{current:e.current,size:e.size},sort:{property:a.prop,direction:a.order},query:Object(n[\"a\"])({},t),status:i}})}function r(t,e,a,i){return Object(o[\"a\"])({url:\"/profitFinalReview/list\",method:\"post\",data:{page:{current:e.current,size:e.size},sort:{property:a.prop,direction:a.order},query:Object(n[\"a\"])({},t),status:i}})}function s(t,e,a){return Object(o[\"a\"])({url:\"/profitApplication/create\",method:\"post\",data:{application:t,goods:e,quality:null,unitPriceNew:a}})}function u(t){return Object(o[\"a\"])({url:\"/profitApproval/examine\",method:\"post\",data:{ids:t,approve:!0}})}function c(t){return Object(o[\"a\"])({url:\"/profitApproval/examine\",method:\"post\",data:{ids:t,approve:!1}})}function d(t){return Object(o[\"a\"])({url:\"/profitFinalReview/finalExamine\",method:\"post\",data:{ids:t,approve:!0}})}function p(t){return Object(o[\"a\"])({url:\"/residualFinalReview/finalExamine\",method:\"post\",data:{ids:t,approve:!1}})}},\"09f4\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return l})),Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var l=i(),r=t-l,s=20,u=0;e=\"undefined\"===typeof e?500:e;var c=function t(){u+=s;var i=Math.easeInOutQuad(u,l,r,e);o(i),u<e?n(t):a&&\"function\"===typeof a&&a()};c()}},1593:function(t,e,a){\"use strict\";var n=a(\"2f7b\"),o=function(t,e,a){var n=a.componentInstance,o=e.value;if(!n.height)throw new Error(\"el-$table must set the height. Such as height='100px'\");var i=o&&o.bottomOffset||30;if(n){var l=window.innerHeight-t.getBoundingClientRect().top-i;n.layout.setHeight(l),n.doLayout()}},i={bind:function(t,e,a){t.resizeListener=function(){o(t,e,a)},Object(n[\"a\"])(window.document.body,t.resizeListener)},inserted:function(t,e,a){o(t,e,a)},update:function(t,e,a){o(t,e,a)},unbind:function(t){Object(n[\"b\"])(window.document.body,t.resizeListener)}},l=function(t){t.directive(\"el-height-adaptive-table\",i)};window.Vue&&(window[\"el-height-adaptive-table\"]=i,Vue.use(l)),i.install=l;e[\"a\"]=i},\"2f21\":function(t,e,a){\"use strict\";var n=a(\"79e5\");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},5156:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container list\"},[a(\"div\",{staticClass:\"toolbar\"},[a(\"el-input\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"申请表编码\",clearable:\"\"},on:{clear:t.handleQuery},model:{value:t.query.code,callback:function(e){t.$set(t.query,\"code\",\"string\"===typeof e?e.trim():e)},expression:\"query.code\"}}),a(\"el-input\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"申请表编码\",clearable:\"\"},on:{clear:t.handleQuery},model:{value:t.query.name,callback:function(e){t.$set(t.query,\"name\",\"string\"===typeof e?e.trim():e)},expression:\"query.name\"}}),a(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"当前状态\",clearable:\"\"},on:{clear:t.handleQuery},model:{value:t.query.status,callback:function(e){t.$set(t.query,\"status\",e)},expression:\"query.status\"}},[a(\"el-option\",{attrs:{value:\"0\",label:\"申请中\"}}),a(\"el-option\",{attrs:{value:\"1\",label:\"审批通过\"}}),a(\"el-option\",{attrs:{value:\"2\",label:\"审批退回\"}}),a(\"el-option\",{attrs:{value:\"3\",label:\"终审通过\"}}),a(\"el-option\",{attrs:{value:\"3\",label:\"终审退回\"}})],1),a(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"申请类型\",clearable:\"\"},on:{clear:t.handleQuery},model:{value:t.query.applicationType,callback:function(e){t.$set(t.query,\"applicationType\",e)},expression:\"query.applicationType\"}},[a(\"el-option\",{attrs:{value:\"2\",label:\"盈\"}}),a(\"el-option\",{attrs:{value:\"3\",label:\"亏\"}})],1),a(\"el-button\",{staticClass:\"tool tool-query\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.handleQuery}},[t._v(\"查询\")]),a(\"el-button\",{staticClass:\"tool tool-create\",attrs:{type:\"success\",icon:\"el-icon-check\"},on:{click:t.handlePasses}},[t._v(\"批量通过\")]),a(\"el-button\",{staticClass:\"tool tool-delete\",attrs:{type:\"danger\",icon:\"el-icon-close\"},on:{click:t.handleFails}},[t._v(\"批量不通过\")])],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading.list,expression:\"loading.list\"},{name:\"adaptive\",rawName:\"v-adaptive\",value:{bottomOffset:55},expression:\"{ bottomOffset: 55 }\"}],ref:\"listTable\",attrs:{height:\"200px\",data:t.datas,\"default-sort\":t.sort,border:\"\",fit:\"\",\"highlight-current-row\":\"\"},on:{\"sort-change\":t.handleSort}},[a(\"el-table-column\",{attrs:{type:\"selection\",align:\"center\",width:\"35\"}}),a(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",align:\"center\",width:\"65\",fixed:\"\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s((t.page.current-1)*t.page.size+e.$index+1))])]}}])}),a(\"el-table-column\",{attrs:{label:\"最近更新时间\",prop:\"applicationTime\",sortable:\"\",align:\"center\",width:\"160\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请表编码\",prop:\"code\",align:\"center\",width:\"150\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请表名称\",prop:\"name\",align:\"center\",width:\"120\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请货物条形码\",prop:\"goodsBarCode\",align:\"center\",width:\"120\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请货物RFID码\",prop:\"goodsRfidCode\",align:\"center\",width:\"150\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请总金额\",prop:\"amountNew\",sortable:\"\",align:\"center\",width:\"120\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"申请前总金额\",prop:\"amountOld\",sortable:\"\",align:\"center\",\"show-overflow-tooltip\":\"\"}}),a(\"el-table-column\",{attrs:{label:\"当前状态\",prop:\"status\",\"sort-orders\":t.sortOrders,align:\"center\",width:\"150\",\"show-overflow-tooltip\":\"\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[0==n.status?a(\"span\",[t._v(\"申请中\")]):t._e(),1==n.status?a(\"span\",[t._v(\"审批通过\")]):t._e(),2==n.status?a(\"span\",[t._v(\"审批退回\")]):t._e(),3==n.status?a(\"span\",[t._v(\"终审通过\")]):t._e(),4==n.status?a(\"span\",[t._v(\"终审退回\")]):t._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"申请类型\",prop:\"applicationType\",\"sort-orders\":t.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[0==n.applicationType?a(\"span\",[t._v(\"降残\")]):t._e(),1==n.applicationType?a(\"span\",[t._v(\"报废\")]):t._e()]}}])}),a(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",align:\"center\",width:\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[a(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"通过\",placement:\"top-end\"}},[a(\"el-button\",{staticClass:\"button-operate button-delete\",attrs:{type:\"success\",plain:\"\",size:\"mini\"},on:{click:function(e){return t.handlePass(n)}}},[a(\"i\",{staticClass:\"el-icon-check\"})])],1),a(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"退回\",placement:\"top-end\"}},[a(\"el-button\",{staticClass:\"button-operate button-delete\",attrs:{type:\"danger\",plain:\"\",size:\"mini\"},on:{click:function(e){return t.handleFail(n)}}},[a(\"i\",{staticClass:\"el-icon-close\"})])],1)]}}])})],1),a(\"pagination\",{attrs:{hidden:0==t.page.total,total:t.page.total,page:t.page.current,limit:t.page.size},on:{\"update:page\":function(e){return t.$set(t.page,\"current\",e)},\"update:limit\":function(e){return t.$set(t.page,\"size\",e)},pagination:t.getDatas}}),a(\"el-dialog\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading.detail,expression:\"loading.detail\"}],attrs:{\"custom-class\":\"dialog-fullscreen dialog-detail\",title:t.detail.dialog.title,visible:t.detail.dialog.visible,modal:!1,\"modal-append-to-body\":!1},on:{\"update:visible\":function(e){return t.$set(t.detail.dialog,\"visible\",e)}}},[a(\"el-form\",{ref:\"formDetail\",attrs:{\"label-position\":\"right\",\"label-width\":t.detail.dialog.labelWidth}},[a(\"el-row\",[a(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[a(\"el-form-item\",{attrs:{label:\"报警组别名称\"}},[t._v(\" \"+t._s(t.detail.models.name)+\" \")])],1)],1),a(\"el-row\",[a(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[a(\"el-form-item\",{attrs:{label:\"报警组别描述\"}},[t._v(\" \"+t._s(t.detail.models.description)+\" \")])],1)],1)],1)],1)],1)},o=[],i=a(\"b85c\"),l=(a(\"55dd\"),a(\"1593\")),r=a(\"333d\"),s=a(\"b534\"),u=a(\"070f\"),c={name:\"ProfitApproval\",components:{Pagination:r[\"a\"]},directives:{adaptive:l[\"a\"]},data:function(){return{access:this.$store.getters.access[\"ApplicationManage\"][\"ProfitApproval\"],datas:null,query:{name:null},page:{total:0,current:1,size:20},sort:{prop:\"sort\",order:\"ascending\"},detail:{dialog:{title:\"货物信息\",visible:!1,labelWidth:\"150px\"},models:{applicationTime:null,amountOld:null,amountNew:null,applicationType:null,approvalResult:null,approvalTime:null,approverId:null,code:null,finalApprovalResult:null,finalApprovalTime:null,finalApproverId:null,name:null,status:null}},loading:{list:!0,export:!1,detail:!1,update:!1},sortOrders:[\"ascending\",\"descending\"]}},created:function(){this.getDatas()},methods:{getDatas:function(){var t=this;this.loading.list=!0,u[\"g\"](this.query,this.page,this.sort).then((function(e){t.datas=e.data.items,t.page.total=e.data.total,t.loading.list=!1})).catch((function(e){t.loading.list=!1}))},handleQuery:function(){this.page.current=1,this.getDatas()},handleSort:function(t){this.sort.prop=t.prop,this.sort.order=t.order,this.getDatas()},handleDetail:function(t){this.detail.models=Object.assign({},t),this.detail.dialog.visible=!0,this.loading.detail=!0,this.loading.detail=!1},handleCreate:function(){this.create.dialog.visible=!0},handleUpdate:function(t){var e=this;this.update.models=Object.assign({},t),this.update.dialog.visible=!0,this.loading.update=!0,this.$nextTick((function(){e.$refs[\"formUpdate\"].clearValidate()})),this.loading.update=!1},updateData:function(){var t=this;this.$refs[\"formUpdate\"].validate((function(e){if(!e)return!1;var a=Object.assign({},t.update.models);s[\"f\"](a).then((function(e){t.getDatas(),t.update.dialog.visible=!1})).catch((function(t){}))}))},handleFail:function(t){this.failData([t.id])},handleFails:function(t){if(0===this.$refs.listTable.selection.length)return this.$message({type:\"warning\",message:\"请在下面表格的左侧勾选需要退回的申请\",duration:4e3}),!1;var e,a=[],n=Object(i[\"a\"])(this.$refs.listTable.selection);try{for(n.s();!(e=n.n()).done;){var o=e.value;a.push(o.id)}}catch(l){n.e(l)}finally{n.f()}this.failData(a)},failData:function(t){var e=this;this.$confirm(\"是否确定退回?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){u[\"a\"](t).then((function(t){e.getDatas()})).catch((function(t){}))}))},handlePass:function(t){this.passData([t.id])},handlePasses:function(t){if(0===this.$refs.listTable.selection.length)return this.$message({type:\"warning\",message:\"请在下面表格的左侧勾选需要通过的申请\",duration:4e3}),!1;var e,a=[],n=Object(i[\"a\"])(this.$refs.listTable.selection);try{for(n.s();!(e=n.n()).done;){var o=e.value;a.push(o.id)}}catch(l){n.e(l)}finally{n.f()}this.passData(a)},passData:function(t){var e=this;this.$confirm(\"是否确定通过?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){u[\"b\"](t).then((function(t){e.getDatas()})).catch((function(t){}))}))}}},d=c,p=a(\"2877\"),f=Object(p[\"a\"])(d,n,o,!1,null,\"25865814\",null);e[\"default\"]=f.exports},\"55dd\":function(t,e,a){\"use strict\";var n=a(\"5ca1\"),o=a(\"d8e8\"),i=a(\"4bf8\"),l=a(\"79e5\"),r=[].sort,s=[1,2,3];n(n.P+n.F*(l((function(){s.sort(void 0)}))||!l((function(){s.sort(null)}))||!a(\"2f21\")(r)),\"Array\",{sort:function(t){return void 0===t?r.call(i(this)):r.call(i(this),o(t))}})},b534:function(t,e,a){\"use strict\";a.d(e,\"c\",(function(){return i})),a.d(e,\"d\",(function(){return l})),a.d(e,\"a\",(function(){return r})),a.d(e,\"e\",(function(){return s})),a.d(e,\"f\",(function(){return u})),a.d(e,\"b\",(function(){return c}));var n=a(\"5530\"),o=a(\"b775\");function i(t,e,a){return Object(o[\"a\"])({url:\"/alarmGroup/list\",method:\"post\",data:{page:{current:e.current,size:e.size},sort:{property:a.prop,direction:a.order},query:Object(n[\"a\"])({},t)}})}function l(){return Object(o[\"a\"])({url:\"/alarmGroup/selectlist\",method:\"get\"})}function r(t){return Object(o[\"a\"])({url:\"/alarmGroup/create\",method:\"post\",data:t})}function s(t){return Object(o[\"a\"])({url:\"/alarmGroup/\".concat(t,\"/rankup\"),method:\"patch\"})}function u(t){return Object(o[\"a\"])({url:\"/alarmGroup/update\",method:\"put\",data:t})}function c(t){return Object(o[\"a\"])({url:\"/alarmGroup/delete\",method:\"delete\",data:t})}}}]);","extractedComments":[]}