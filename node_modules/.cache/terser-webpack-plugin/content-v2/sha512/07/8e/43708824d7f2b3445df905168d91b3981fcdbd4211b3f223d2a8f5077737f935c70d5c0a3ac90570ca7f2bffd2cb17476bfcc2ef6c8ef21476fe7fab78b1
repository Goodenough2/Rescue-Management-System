{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0630e5de\"],{1593:function(e,t,r){\"use strict\";var o=r(\"2f7b\"),a=function(e,t,r){var o=r.componentInstance,a=t.value;if(!o.height)throw new Error(\"el-$table must set the height. Such as height='100px'\");var l=a&&a.bottomOffset||30;if(o){var n=window.innerHeight-e.getBoundingClientRect().top-l;o.layout.setHeight(n),o.doLayout()}},l={bind:function(e,t,r){e.resizeListener=function(){a(e,t,r)},Object(o[\"a\"])(window.document.body,e.resizeListener)},inserted:function(e,t,r){a(e,t,r)},update:function(e,t,r){a(e,t,r)},unbind:function(e){Object(o[\"b\"])(window.document.body,e.resizeListener)}},n=function(e){e.directive(\"el-height-adaptive-table\",l)};window.Vue&&(window[\"el-height-adaptive-table\"]=l,Vue.use(n)),l.install=n;t[\"a\"]=l},\"2f21\":function(e,t,r){\"use strict\";var o=r(\"79e5\");e.exports=function(e,t){return!!e&&o((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},\"333d\":function(e,t,r){\"use strict\";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[r(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},a=[];r(\"c5f6\");Math.easeInOutQuad=function(e,t,r,o){return e/=o/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,r){var o=i(),a=e-o,s=20,d=0;t=\"undefined\"===typeof t?500:t;var c=function e(){d+=s;var i=Math.easeInOutQuad(d,o,a,t);n(i),d<t?l(e):r&&\"function\"===typeof r&&r()};c()}var d={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},c=d,u=(r(\"f6ff\"),r(\"2877\")),m=Object(u[\"a\"])(c,o,a,!1,null,\"5805c9fb\",null);t[\"a\"]=m.exports},\"39d1\":function(e,t,r){\"use strict\";r.d(t,\"d\",(function(){return l})),r.d(t,\"e\",(function(){return n})),r.d(t,\"a\",(function(){return i})),r.d(t,\"f\",(function(){return s})),r.d(t,\"g\",(function(){return d})),r.d(t,\"b\",(function(){return c})),r.d(t,\"h\",(function(){return u})),r.d(t,\"c\",(function(){return m}));var o=r(\"5530\"),a=r(\"b775\");function l(e,t,r){return Object(a[\"a\"])({url:\"/customer/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}function n(){return Object(a[\"a\"])({url:\"/customer/selectlist\",method:\"get\",params:{}})}function i(e){return Object(a[\"a\"])({url:\"/customer/create\",method:\"post\",data:e})}function s(e){return Object(a[\"a\"])({url:\"/customer/\".concat(e,\"/rankup\"),method:\"patch\"})}function d(e){return Object(a[\"a\"])({url:\"/customer/update\",method:\"put\",data:e})}function c(e){return Object(a[\"a\"])({url:\"/customer/delete\",method:\"delete\",data:e})}function u(e){return Object(a[\"a\"])({url:\"/customer/import\",method:\"post\",data:e})}function m(e,t,r){return Object(a[\"a\"])({url:\"/customer/export\",method:\"post\",responseType:\"blob\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}},\"55dd\":function(e,t,r){\"use strict\";var o=r(\"5ca1\"),a=r(\"d8e8\"),l=r(\"4bf8\"),n=r(\"79e5\"),i=[].sort,s=[1,2,3];o(o.P+o.F*(n((function(){s.sort(void 0)}))||!n((function(){s.sort(null)}))||!r(\"2f21\")(i)),\"Array\",{sort:function(e){return void 0===e?i.call(l(this)):i.call(l(this),a(e))}})},\"5abc\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return a}));var o=r(\"b85c\");function a(e,t){var r,a=[],l=Object(o[\"a\"])(t);try{for(l.s();!(r=l.n()).done;){var n=r.value,i={};for(var s in n){switch(s){case\"required\":i.required=!0,i.message=n.message||\"请输入\".concat(e);break;case\"selected\":i.required=!0,i.message=n.message||\"请选择\".concat(e),i.trigger=\"change\";break;case\"length\":i.type=\"string\";var d=n.length,c=d.min,u=d.max;c&&(i.min=n.length[0],i.message=n.message||\"\".concat(e,\"的长度应大于\").concat(c,\"个字符\")),u&&(i.max=n.length[1],i.message=n.message||\"\".concat(e,\"的长度应小于\").concat(u,\"个字符\")),c&&u&&(i.message=n.message||\"\".concat(e,\"的长度应介于\").concat(c,\"-\").concat(u,\"个字符之间\"));break;case\"range\":break;case\"max\":break;case\"min\":break;case\"date\":break;case\"datetime\":break;default:i[s]=n[s];break}i.trigger=i.trigger||\"blur\"}a.push(i)}}catch(m){l.e(m)}finally{l.f()}return a}},\"74cc\":function(e,t,r){\"use strict\";r.d(t,\"e\",(function(){return l})),r.d(t,\"d\",(function(){return n})),r.d(t,\"f\",(function(){return i})),r.d(t,\"a\",(function(){return s})),r.d(t,\"g\",(function(){return d})),r.d(t,\"b\",(function(){return c})),r.d(t,\"c\",(function(){return u}));var o=r(\"5530\"),a=r(\"b775\");function l(e,t,r){return Object(a[\"a\"])({url:\"/order/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}function n(e){return Object(a[\"a\"])({url:\"/order/\".concat(e,\"/detail\"),method:\"get\"})}function i(){return Object(a[\"a\"])({url:\"/order/selectlist\",method:\"get\"})}function s(e){return Object(a[\"a\"])({url:\"/order/record\",method:\"post\",data:e})}function d(e){return Object(a[\"a\"])({url:\"/order/update\",method:\"put\",data:e})}function c(e){return Object(a[\"a\"])({url:\"/order/delete\",method:\"delete\",data:e})}function u(e,t,r){return Object(a[\"a\"])({url:\"/order/export\",method:\"post\",responseType:\"blob\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}},\"98b8\":function(e,t,r){\"use strict\";r.d(t,\"c\",(function(){return l})),r.d(t,\"d\",(function(){return n})),r.d(t,\"a\",(function(){return i})),r.d(t,\"e\",(function(){return s})),r.d(t,\"b\",(function(){return d}));var o=r(\"5530\"),a=r(\"b775\");function l(e,t,r){return Object(a[\"a\"])({url:\"/account/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}function n(){return Object(a[\"a\"])({url:\"/account/selectlist\",method:\"get\"})}function i(e){return Object(a[\"a\"])({url:\"/account/create\",method:\"post\",data:e})}function s(e){return Object(a[\"a\"])({url:\"/account/update\",method:\"put\",data:e})}function d(e){return Object(a[\"a\"])({url:\"/account/delete\",method:\"delete\",data:e})}},a08e:function(e,t,r){\"use strict\";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"app-container list\"},[r(\"div\",{staticClass:\"toolbar\"},[r(\"el-input\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"订单编号\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.code,callback:function(t){e.$set(e.query,\"code\",\"string\"===typeof t?t.trim():t)},expression:\"query.code\"}}),r(\"el-input\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"订单名称\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.name,callback:function(t){e.$set(e.query,\"name\",\"string\"===typeof t?t.trim():t)},expression:\"query.name\"}}),r(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"150px\"},attrs:{placeholder:\"客户\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.customerId,callback:function(t){e.$set(e.query,\"customerId\",t)},expression:\"query.customerId\"}},e._l(e.customers,(function(e){return r(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"150px\"},attrs:{placeholder:\"录入人员\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.createrId,callback:function(t){e.$set(e.query,\"createrId\",t)},expression:\"query.createrId\"}},e._l(e.creaters,(function(e){return r(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"订单状态\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.status,callback:function(t){e.$set(e.query,\"status\",t)},expression:\"query.status\"}},[r(\"el-option\",{attrs:{label:\"全未入库\",value:\"0\"}}),r(\"el-option\",{attrs:{label:\"部分出库\",value:\"1\"}}),r(\"el-option\",{attrs:{label:\"完全出库\",value:\"2\"}}),r(\"el-option\",{attrs:{label:\"订单完成\",value:\"3\"}})],1)],1),r(\"div\",{staticClass:\"toolbar\"},[r(\"el-date-picker\",{attrs:{align:\"right\",\"end-placeholder\":\"结束日期\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",type:\"datetimerange\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},on:{change:e.getTime},model:{value:e.value1,callback:function(t){e.value1=t},expression:\"value1\"}}),r(\"el-button\",{staticClass:\"tool tool-query\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleQuery}},[e._v(\"查询\")]),e.access.record.allow?r(\"el-button\",{staticClass:\"tool tool-create\",attrs:{type:\"primary\",icon:\"vue-icon-create\"},on:{click:e.handleCreate}},[e._v(\"添加\")]):e._e(),e.access.delete.allow?r(\"el-button\",{staticClass:\"tool tool-delete\",attrs:{type:\"danger\",icon:\"vue-icon-delete\"},on:{click:e.handleDeletes}},[e._v(\"批量删除\")]):e._e(),e.access.export.allow?r(\"el-button\",{staticClass:\"tool tool-export\",attrs:{loading:e.loading.export,type:\"primary\",icon:\"vue-icon-excel\"},on:{click:e.handleExport}},[e._v(\"导出\")]):e._e()],1),r(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading.list,expression:\"loading.list\"},{name:\"adaptive\",rawName:\"v-adaptive\",value:{bottomOffset:55},expression:\"{ bottomOffset: 55 }\"}],ref:\"listTable\",attrs:{height:\"200px\",data:e.datas,\"default-sort\":e.sort,border:\"\",fit:\"\",\"highlight-current-row\":\"\"},on:{\"sort-change\":e.handleSort}},[r(\"el-table-column\",{attrs:{type:\"selection\",align:\"center\",width:\"35\"}}),r(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",align:\"center\",width:\"65\",fixed:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[r(\"span\",[e._v(e._s((e.page.current-1)*e.page.size+t.$index+1))])]}}])}),r(\"el-table-column\",{attrs:{label:\"订单编号\",prop:\"code\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单名称\",prop:\"name\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"客户名称\",prop:\"customer.name\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"制单时间\",prop:\"createTime\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"录入人员名称\",prop:\"creater.userName\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订购总金额\",prop:\"amount\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单成交金额\",prop:\"amountDone\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单预付金额\",prop:\"amountPre\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单最终支付金额\",prop:\"amountReal\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单交货时间\",prop:\"deliveryTime\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"200\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{label:\"订单状态\",prop:\"status\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var o=t.row;return[0==o.status?r(\"span\",[e._v(\"全未入库\")]):e._e(),1==o.status?r(\"span\",[e._v(\"部分入库\")]):e._e(),2==o.status?r(\"span\",[e._v(\"完全出库\")]):e._e(),3==o.status?r(\"span\",[e._v(\"订单完成\")]):e._e()]}}])}),r(\"el-table-column\",{attrs:{label:\"订单状态改变时间\",prop:\"statusTime\",sortable:\"custom\",\"sort-orders\":e.sortOrders,align:\"center\",\"show-overflow-tooltip\":\"\"}}),r(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",align:\"center\",width:\"140\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var o=t.row;return[e.access.detail.allow?r(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"详情\",placement:\"top-end\"}},[r(\"el-button\",{staticClass:\"button-operate button-detail\",attrs:{type:\"primary\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.handleDetail(o)}}},[r(\"i\",{staticClass:\"vue-icon-detail\"})])],1):e._e(),e.access.update.allow?r(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"编辑\",placement:\"top-end\"}},[r(\"el-button\",{staticClass:\"button-operate button-update\",attrs:{type:\"primary\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.handleUpdate(o)}}},[r(\"i\",{staticClass:\"vue-icon-update\"})])],1):e._e(),e.access.delete.allow?r(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"删除\",placement:\"top-end\"}},[r(\"el-button\",{staticClass:\"button-operate button-delete\",attrs:{type:\"danger\",plain:\"\",size:\"mini\"},on:{click:function(t){return e.handleDelete(o)}}},[r(\"i\",{staticClass:\"vue-icon-delete\"})])],1):e._e()]}}])})],1),r(\"pagination\",{attrs:{hidden:0==e.page.total,total:e.page.total,page:e.page.current,limit:e.page.size},on:{\"update:page\":function(t){return e.$set(e.page,\"current\",t)},\"update:limit\":function(t){return e.$set(e.page,\"size\",t)},pagination:e.getDatas}}),r(\"el-dialog\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading.detail,expression:\"loading.detail\"}],attrs:{\"custom-class\":\"dialog-fullscreen\",title:e.detail.dialog.title,visible:e.detail.dialog.visible,modal:!1,\"modal-append-to-body\":!1},on:{\"update:visible\":function(t){return e.$set(e.detail.dialog,\"visible\",t)}}},[r(\"el-form\",{ref:\"formDetail\",attrs:{\"label-position\":\"right\",\"label-width\":e.detail.dialog.labelWidth}},[r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单编号\"}},[e._v(\" \"+e._s(e.detail.models.code)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单名称\"}},[e._v(\" \"+e._s(e.detail.models.name)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"客户姓名\"}},[e._v(\" \"+e._s(e.detail.models.customer.name)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"制单时间\"}},[e._v(\" \"+e._s(e.detail.models.createTime)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"录入人员名称\"}},[e._v(\" \"+e._s(e.detail.models.creater.userName)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订购总金额\"}},[e._v(\" \"+e._s(e.detail.models.amount)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单成交金额\"}},[e._v(\" \"+e._s(e.detail.models.amountDone)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单预付金额\"}},[e._v(\" \"+e._s(e.detail.models.amountPre)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单最终支付金额\"}},[e._v(\" \"+e._s(e.detail.models.amountReal)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单交货时间\"}},[e._v(\" \"+e._s(e.detail.models.deliveryTime)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单实际交货时间\"}},[e._v(\" \"+e._s(e.detail.models.deliveryTimeReal)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单描述\"}},[e._v(\" \"+e._s(e.detail.models.description)+\" \")])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单状态\"}},[0==e.detail.models.status?r(\"span\",[e._v(\"全未出库\")]):e._e(),1==e.detail.models.status?r(\"span\",[e._v(\"部分出库\")]):e._e(),2==e.detail.models.status?r(\"span\",[e._v(\"完全出库\")]):e._e(),3==e.detail.models.status?r(\"span\",[e._v(\"订单完成\")]):e._e()])],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单状态改变时间\"}},[e._v(\" \"+e._s(e.detail.models.statusTime)+\" \")])],1)],1),e._l(e.detail.models.existentProperties,(function(t){return r(\"el-row\",{key:t.propertyId},[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:t.propertyName}},[e._v(\" \"+e._s(t.propertyValue)+\" \")])],1)],1)}))],2)],1),r(\"el-dialog\",{attrs:{\"custom-class\":\"dialog-fullscreen\",title:e.create.dialog.title,visible:e.create.dialog.visible,modal:!1,\"modal-append-to-body\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){return e.$set(e.create.dialog,\"visible\",t)}}},[r(\"el-form\",{ref:\"formCreate\",attrs:{rules:e.create.rules,model:e.create.models,\"label-position\":\"right\",\"label-width\":e.create.dialog.labelWidth}},[r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单编号\",prop:\"order.code\"}},[r(\"el-input\",{model:{value:e.create.models.order.code,callback:function(t){e.$set(e.create.models.order,\"code\",t)},expression:\"create.models.order.code\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单名称\",prop:\"order.name\"}},[r(\"el-input\",{model:{value:e.create.models.order.name,callback:function(t){e.$set(e.create.models.order,\"name\",t)},expression:\"create.models.order.name\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"选择客户\",prop:\"order.customerId\"}},[r(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.create.models.order.customerId,callback:function(t){e.$set(e.create.models.order,\"customerId\",t)},expression:\"create.models.order.customerId\"}},e._l(e.customers,(function(e){return r(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"添加用户\",placement:\"top-end\"}},[r(\"el-button\",{staticClass:\"button-operate button-detail\",attrs:{type:\"primary\",plain:\"\",circle:\"\",icon:\"el-icon-edit\"},on:{click:function(t){return e.handleCreateCustomer()}}})],1)],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单成交金额\",prop:\"order.amount\"}},[r(\"el-input\",{attrs:{type:\"number\"},model:{value:e.create.models.order.amount,callback:function(t){e.$set(e.create.models.order,\"amount\",t)},expression:\"create.models.order.amount\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单预付金额\",prop:\"order.amountPre\"}},[r(\"el-input\",{attrs:{type:\"number\"},model:{value:e.create.models.order.amountPre,callback:function(t){e.$set(e.create.models.order,\"amountPre\",t)},expression:\"create.models.order.amountPre\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单交货时间\",prop:\"order.deliveryTime\"}},[r(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"选择日期时间\",\"default-time\":\"12:00:00\"},model:{value:e.create.models.order.deliveryTime,callback:function(t){e.$set(e.create.models.order,\"deliveryTime\",t)},expression:\"create.models.order.deliveryTime \"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"备注\",prop:\"order.description\"}},[r(\"el-input\",{model:{value:e.create.models.order.description,callback:function(t){e.$set(e.create.models.order,\"description\",t)},expression:\"create.models.order.description\"}})],1)],1)],1),e._l(e.orderProperties,(function(t,o){return r(\"el-row\",{key:t.id},[r(\"el-col\",{attrs:{span:5}},[r(\"el-form-item\",{attrs:{label:t.name}},[r(\"el-input\",{model:{value:e.OrderPropertyValue[o].value,callback:function(t){e.$set(e.OrderPropertyValue[o],\"value\",t)},expression:\"OrderPropertyValue[index].value\"}})],1)],1),r(\"el-col\",{attrs:{span:5}},[r(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-delete\",circle:\"\"},on:{click:function(r){return e.deleteOrderProperties(t.id)}}})],1)],1)}))],2),r(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"el-button\",{on:{click:function(t){e.create.dialog.visible=!1}}},[e._v(\"取消\")]),r(\"el-button\",{on:{click:e.handleAdd}},[e._v(\"新增扩展属性\")]),r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.createData()}}},[e._v(\"提交\")])],1)],1),r(\"el-dialog\",{attrs:{title:e.add.dialog.title,visible:e.add.dialog.visible,modal:!1,\"modal-append-to-body\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){return e.$set(e.add.dialog,\"visible\",t)}}},[r(\"el-form\",{ref:\"formCreate\",attrs:{rules:e.add.rules,model:e.add.models,\"label-position\":\"right\",\"label-width\":e.add.dialog.labelWidth}},[r(\"el-row\",[r(\"el-col\",{attrs:{span:10}},[r(\"el-form-item\",{attrs:{label:\"扩展属性名称\",prop:\"name\"}},[r(\"el-input\",{model:{value:e.add.models.name,callback:function(t){e.$set(e.add.models,\"name\",t)},expression:\"add.models.name\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{span:10}},[r(\"el-form-item\",{attrs:{label:\"扩展属性描述(可空)\",prop:\"description\"}},[r(\"el-input\",{model:{value:e.add.models.description,callback:function(t){e.$set(e.add.models,\"description\",t)},expression:\"add.models.description\"}})],1)],1)],1)],1),r(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"el-button\",{on:{click:function(t){e.add.dialog.visible=!1}}},[e._v(\"取消\")]),r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.addProperty()}}},[e._v(\"提交\")])],1)],1),r(\"el-dialog\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading.update,expression:\"loading.update\"}],attrs:{\"custom-class\":\"dialog-fullscreen\",title:e.update.dialog.title,visible:e.update.dialog.visible,modal:!1,\"modal-append-to-body\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){return e.$set(e.update.dialog,\"visible\",t)}}},[r(\"el-form\",{ref:\"formUpdate\",attrs:{rules:e.update.rules,model:e.update.models,\"label-position\":\"right\",\"label-width\":e.update.dialog.labelWidth}},[r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单编号\",prop:\"code\"}},[r(\"el-input\",{model:{value:e.update.models.code,callback:function(t){e.$set(e.update.models,\"code\",t)},expression:\"update.models.code\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"选择客户\",prop:\"customerId\"}},[r(\"el-select\",{attrs:{clearable:\"\"},model:{value:e.update.models.customerId,callback:function(t){e.$set(e.update.models,\"customerId\",t)},expression:\"update.models.customerId\"}},e._l(e.customers,(function(e){return r(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"添加用户\",placement:\"top-end\"}},[r(\"el-button\",{staticClass:\"button-operate button-detail\",attrs:{type:\"primary\",plain:\"\",circle:\"\",icon:\"el-icon-edit\"},on:{click:function(t){return e.handleCreateCustomer()}}})],1)],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单成交金额\",prop:\"amount\"}},[r(\"el-input\",{model:{value:e.update.models.amount,callback:function(t){e.$set(e.update.models,\"amount\",t)},expression:\"update.models.amount\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单预付金额\",prop:\"amountPre\"}},[r(\"el-input\",{model:{value:e.update.models.amountPre,callback:function(t){e.$set(e.update.models,\"amountPre\",t)},expression:\"update.models.amountPre\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"订单交货时间\",prop:\"deliveryTime\"}},[r(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"选择日期时间\",\"default-time\":\"12:00:00\"},model:{value:e.update.models.deliveryTime,callback:function(t){e.$set(e.update.models,\"deliveryTime\",t)},expression:\"update.models.deliveryTime \"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"备注\",prop:\"description\"}},[r(\"el-input\",{model:{value:e.update.models.description,callback:function(t){e.$set(e.update.models,\"description\",t)},expression:\"update.models.description\"}})],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"已有属性：\",prop:\"\"}},[0===e.update.models.existentProperties.length?r(\"el-tag\",[e._v(e._s(\"无\"))]):e._e()],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},e._l(e.update.models.existentProperties,(function(t,o){return r(\"el-form-item\",{key:t.propertyId,attrs:{label:t.propertyName}},[r(\"el-input\",{model:{value:e.update.models.existentProperties[o].propertyValue,callback:function(t){e.$set(e.update.models.existentProperties[o],\"propertyValue\",t)},expression:\"update.models.existentProperties[index].propertyValue\"}})],1)})),1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},[r(\"el-form-item\",{attrs:{label:\"其他属性：\",prop:\"\"}},[0===e.update.models.nonexistentProperties.length?r(\"el-tag\",[e._v(e._s(\"无\"))]):e._e()],1)],1)],1),r(\"el-row\",[r(\"el-col\",{attrs:{xl:6,md:12,sm:24}},e._l(e.update.models.nonexistentProperties,(function(t,o){return r(\"el-form-item\",{key:t.propertyId,attrs:{label:t.propertyName}},[r(\"el-input\",{model:{value:e.update.models.nonexistentProperties[o].propertyValue,callback:function(t){e.$set(e.update.models.nonexistentProperties[o],\"propertyValue\",t)},expression:\"update.models.nonexistentProperties[index].propertyValue\"}})],1)})),1)],1)],1),r(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[r(\"el-button\",{on:{click:function(t){e.update.dialog.visible=!1}}},[e._v(\"取消\")]),r(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.updateData()}}},[e._v(\"提交\")])],1)],1)],1)},a=[],l=r(\"b85c\"),n=(r(\"55dd\"),r(\"1593\")),i=r(\"5abc\"),s=r(\"333d\"),d=r(\"74cc\"),c=r(\"39d1\"),u=r(\"98b8\"),m=r(\"cb1c\"),p={name:\"Order\",components:{Pagination:s[\"a\"]},directives:{adaptive:n[\"a\"]},data:function(){return{access:this.$store.getters.access[\"OrderBusiness\"][\"Order\"],datas:null,customers:null,creaters:null,orderProperties:null,OrderPropertyValue:[],value1:[],query:{code:null,name:null,customerId:null,createrId:null,status:null},page:{total:0,current:1,size:20},sort:{prop:\"sort\",order:\"ascending\"},detail:{dialog:{title:\"订单录入信息\",visible:!1,labelWidth:\"150px\"},models:{code:null,name:null,customer:{name:null},creater:{userName:null},amount:null,amountDone:null,amountPre:null,amountReal:null,deliveryTime:null,deliveryTImeReal:null,description:null,status:null,statusTime:null,nonexistentProperties:[],existentProperties:[]}},create:{dialog:{title:\"添加订单\",visible:!1,labelWidth:\"150px\"},models:{order:{code:null,name:null,customerId:null,amount:null,amountPre:null,deliveryTime:null,description:null},orderPropertyValue:[]},rules:{order:{code:Object(i[\"a\"])(\"订单编号\",[{required:!0},{length:[0,32]}]),name:Object(i[\"a\"])(\"订单名称\",[{required:!0},{length:[0,255]}]),customerId:Object(i[\"a\"])(\"客户\",[{selected:!0}]),amount:Object(i[\"a\"])(\"订单成交金额\",[{required:!0}]),amountPre:Object(i[\"a\"])(\"订单预付金额\",[{required:!0}]),deliveryTime:Object(i[\"a\"])(\"订单交货时间\",[{required:!0}])}}},update:{dialog:{title:\"编辑订单信息\",visible:!1,labelWidth:\"120px\"},models:{code:null,customerId:null,createrId:null,amount:null,amountPre:null,deliveryTime:null,description:null,existentProperties:[],nonexistentProperties:[]},rules:{code:Object(i[\"a\"])(\"订单类型编号\",[{required:!0},{length:[0,32]}]),customerId:Object(i[\"a\"])(\"客户\",[{selected:!0}]),amount:Object(i[\"a\"])(\"订单成交金额\",[{required:!0}]),amountPre:Object(i[\"a\"])(\"订单预付金额\",[{required:!0}]),deliveryTime:Object(i[\"a\"])(\"订单交货时间\",[{required:!0}])}},add:{dialog:{title:\"新增扩展属性\",visible:!1,labelWidth:\"150px\"},models:{name:null,description:null},rules:{name:Object(i[\"a\"])(\"扩展属性名称\",[{required:!0},{length:[0,255]}])}},loading:{list:!0,export:!1,detail:!1,update:!1},sortOrders:[\"ascending\",\"descending\"]}},created:function(){this.getDatas(),this.getCustomers(),this.getUsers(),this.getOrderProperties()},methods:{getCustomers:function(){var e=this;c[\"e\"]().then((function(t){e.customers=t.data,e.loading.detail=!1})).catch((function(t){e.loading.detail=!1}))},getUsers:function(){var e=this;u[\"d\"]().then((function(t){e.creaters=t.data})).catch((function(e){}))},getOrderProperties:function(){var e=this,t=0;m[\"e\"](t).then((function(t){e.orderProperties=t.data;for(var r=0;r<t.data.length;r++)e.OrderPropertyValue.push({value:null,propertyId:null}),e.OrderPropertyValue[r].propertyId=t.data[r].id;e.loading.detail=!1})).catch((function(t){e.loading.detail=!1}))},getDatas:function(){var e=this;this.loading.list=!0,d[\"e\"](this.query,this.page,this.sort).then((function(t){e.datas=t.data.items,e.page.total=t.data.total,e.loading.list=!1})).catch((function(t){e.loading.list=!1}))},getTime:function(e){this.query.loginTime=this.value1[0],this.query.loginOutTime=this.value1[1]},handleQuery:function(){this.page.current=1,this.getDatas()},handleSort:function(e){this.sort.prop=e.prop,this.sort.order=e.order,this.getDatas()},handleClean:function(){this.create.models.order.propertyId=null},handleDetail:function(e){var t=this;this.detail.dialog.visible=!0,this.loading.detail=!0,d[\"d\"](e.id).then((function(e){t.detail.models=e.data,console.log(t.detail.models),t.loading.detail=!1})).catch((function(e){t.loading.detail=!1}))},handleCreateCustomer:function(){this.$router.push({path:\"/order-manage/customer\",query:{flag:!0}})},handleCreateDetail:function(e){var t=e.id,r=e.code;this.$router.push({path:\"/order-manage/order-detail\",query:{orderCode:r,orderId:t}})},handleCreateRequest:function(e){var t=e.id,r=e.code;this.$router.push({path:\"/goods-manage/request\",query:{orderId:t,orderCode:r}})},handleCreate:function(){this.create.dialog.visible=!0},handleAdd:function(){this.add.dialog.visible=!0},createData:function(){var e=this;this.$refs[\"formCreate\"].validate((function(t){if(!t)return!1;e.create.models.orderPropertyValue=[],e.create.models.orderPropertyValue=e.OrderPropertyValue.concat(e.create.models.orderPropertyValue),d[\"a\"](e.create.models).then((function(t){e.create.models.order.code=\"\",e.create.models.order.customerId=\"\",e.getDatas()})).catch((function(e){}))}))},addProperty:function(){var e=this,t=0;m[\"a\"](t,this.add.models).then((function(t){e.getDatas(),e.getOrderProperties()})).catch((function(e){}))},handleUpdate:function(e){var t=this;this.update.dialog.visible=!0,this.loading.update=!0,d[\"d\"](e.id).then((function(e){t.update.models=e.data,t.loading.update=!1})).catch((function(e){t.loading.update=!1})),this.$nextTick((function(){t.$refs[\"formUpdate\"].clearValidate()}))},updateData:function(){var e=this;this.$refs[\"formUpdate\"].validate((function(t){if(!t)return!1;var r=Object.assign({},e.update.models);d[\"g\"](r).then((function(t){e.getDatas(),e.update.dialog.visible=!1})).catch((function(e){}))}))},handleDelete:function(e){this.deleteData([e.id])},handleDeletes:function(e){if(0===this.$refs.listTable.selection.length)return this.$message({type:\"warning\",message:\"请在下面表格的左侧勾选需要删除的数据\",duration:4e3}),!1;var t,r=[],o=Object(l[\"a\"])(this.$refs.listTable.selection);try{for(o.s();!(t=o.n()).done;){var a=t.value;r.push(a.id)}}catch(n){o.e(n)}finally{o.f()}this.deleteData(r)},deleteData:function(e){var t=this;this.$confirm(\"数据删除后，不可恢复, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){d[\"b\"](e).then((function(e){t.getDatas()})).catch((function(e){}))}))},deleteOrderProperties:function(e){var t=this;this.$confirm(\"扩展属性删除后，不可恢复, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){m[\"c\"](e).then((function(e){t.getDatas(),t.getOrderProperties()})).catch((function(e){}))}))},handleExport:function(){var e=this;this.loading.export=!0,d[\"c\"](this.query,this.page,this.sort).then((function(t){var r=new Blob([t]),o=\"订单.xls\",a=document.createElement(\"a\");a.onload=function(){URL.revokeObjectURL(a.href)},a.download=o,a.style.display=\"none\",a.href=URL.createObjectURL(r),document.body.appendChild(a),a.click(),document.body.removeChild(a),e.loading.export=!1})).catch((function(t){e.loading.export=!1}))}}},f=p,b=r(\"2877\"),h=Object(b[\"a\"])(f,o,a,!1,null,\"688c1254\",null);t[\"default\"]=h.exports},cb1c:function(e,t,r){\"use strict\";r.d(t,\"d\",(function(){return l})),r.d(t,\"e\",(function(){return n})),r.d(t,\"a\",(function(){return i})),r.d(t,\"b\",(function(){return s})),r.d(t,\"g\",(function(){return d})),r.d(t,\"c\",(function(){return c}));var o=r(\"5530\"),a=r(\"b775\");function l(e,t,r){return Object(a[\"a\"])({url:\"/orderProperty/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:r.prop,direction:r.order},query:Object(o[\"a\"])({},e)}})}function n(e){return Object(a[\"a\"])({url:\"/orderProperty/\".concat(e,\"/selectlist\"),method:\"get\"})}function i(e,t){return Object(a[\"a\"])({url:\"/orderProperty/\".concat(e,\"/add\"),method:\"post\",data:t})}function s(e){return Object(a[\"a\"])({url:\"/orderProperty/create\",method:\"post\",data:e})}function d(e){return Object(a[\"a\"])({url:\"/orderProperty/update\",method:\"put\",data:e})}function c(e){return Object(a[\"a\"])({url:\"/orderProperty/delete\",method:\"delete\",data:e})}},e802:function(e,t,r){},f6ff:function(e,t,r){\"use strict\";var o=r(\"e802\"),a=r.n(o);a.a}}]);","extractedComments":[]}