{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-ae736d66\"],{\"0008\":function(e,t,o){\"use strict\";o.d(t,\"d\",(function(){return a})),o.d(t,\"c\",(function(){return l})),o.d(t,\"e\",(function(){return i})),o.d(t,\"f\",(function(){return s})),o.d(t,\"a\",(function(){return u})),o.d(t,\"g\",(function(){return c})),o.d(t,\"h\",(function(){return d})),o.d(t,\"b\",(function(){return p}));var r=o(\"5530\"),n=o(\"b775\");function a(e,t,o){return Object(n[\"a\"])({url:\"/storeOperateType/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}function l(e){return Object(n[\"a\"])({url:\"/storeOperateType/\".concat(e,\"/detail\"),method:\"get\"})}function i(){return Object(n[\"a\"])({url:\"storeOperateType/selectlist\",method:\"get\"})}function s(){return Object(n[\"a\"])({url:\"storeOperateType/selectlist\",method:\"get\"})}function u(e){return Object(n[\"a\"])({url:\"/storeOperateType/create\",method:\"post\",data:e})}function c(e){return Object(n[\"a\"])({url:\"/storeOperateType/\".concat(e,\"/rankup\"),method:\"patch\"})}function d(e){return Object(n[\"a\"])({url:\"/storeOperateType/update\",method:\"put\",data:e})}function p(e){return Object(n[\"a\"])({url:\"/storeOperateType/delete\",method:\"delete\",data:e})}},\"09f4\":function(e,t,o){\"use strict\";o.d(t,\"a\",(function(){return l})),Math.easeInOutQuad=function(e,t,o,r){return e/=r/2,e<1?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,o){var l=a(),i=e-l,s=20,u=0;t=\"undefined\"===typeof t?500:t;var c=function e(){u+=s;var a=Math.easeInOutQuad(u,l,i,t);n(a),u<t?r(e):o&&\"function\"===typeof o&&o()};c()}},1593:function(e,t,o){\"use strict\";var r=o(\"2f7b\"),n=function(e,t,o){var r=o.componentInstance,n=t.value;if(!r.height)throw new Error(\"el-$table must set the height. Such as height='100px'\");var a=n&&n.bottomOffset||30;if(r){var l=window.innerHeight-e.getBoundingClientRect().top-a;r.layout.setHeight(l),r.doLayout()}},a={bind:function(e,t,o){e.resizeListener=function(){n(e,t,o)},Object(r[\"a\"])(window.document.body,e.resizeListener)},inserted:function(e,t,o){n(e,t,o)},update:function(e,t,o){n(e,t,o)},unbind:function(e){Object(r[\"b\"])(window.document.body,e.resizeListener)}},l=function(e){e.directive(\"el-height-adaptive-table\",a)};window.Vue&&(window[\"el-height-adaptive-table\"]=a,Vue.use(l)),a.install=l;t[\"a\"]=a},\"19cc\":function(e,t,o){\"use strict\";var r=o(\"a20f\"),n=o.n(r);n.a},\"1eda\":function(e,t,o){\"use strict\";o.d(t,\"e\",(function(){return a})),o.d(t,\"d\",(function(){return l})),o.d(t,\"f\",(function(){return i})),o.d(t,\"a\",(function(){return s})),o.d(t,\"g\",(function(){return u})),o.d(t,\"h\",(function(){return c})),o.d(t,\"b\",(function(){return d})),o.d(t,\"c\",(function(){return p}));var r=o(\"5530\"),n=o(\"b775\");function a(e,t,o){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}function l(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/\".concat(e,\"/detail\"),method:\"get\"})}function i(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/\".concat(e,\"/selectlist\"),method:\"get\"})}function s(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/create\",method:\"post\",data:e})}function u(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/\".concat(e,\"/rankup\"),method:\"patch\"})}function c(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/update\",method:\"put\",data:e})}function d(e){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/delete\",method:\"delete\",data:e})}function p(e,t,o){return Object(n[\"a\"])({url:\"/goodsCategoryClassification/export\",method:\"post\",responseType:\"blob\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}},\"2f21\":function(e,t,o){\"use strict\";var r=o(\"79e5\");e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},\"33e5\":function(e,t,o){\"use strict\";o.d(t,\"h\",(function(){return a})),o.d(t,\"g\",(function(){return l})),o.d(t,\"j\",(function(){return i})),o.d(t,\"b\",(function(){return s})),o.d(t,\"m\",(function(){return u})),o.d(t,\"a\",(function(){return c})),o.d(t,\"o\",(function(){return d})),o.d(t,\"f\",(function(){return p})),o.d(t,\"p\",(function(){return f})),o.d(t,\"c\",(function(){return g})),o.d(t,\"l\",(function(){return h})),o.d(t,\"k\",(function(){return m})),o.d(t,\"n\",(function(){return b})),o.d(t,\"e\",(function(){return y})),o.d(t,\"i\",(function(){return v})),o.d(t,\"d\",(function(){return O}));var r=o(\"5530\"),n=o(\"b775\");function a(e,t,o,a){return Object(n[\"a\"])({url:\"/goods/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e),status:a}})}function l(e){return Object(n[\"a\"])({url:\"/goods/\".concat(e,\"/detail\"),method:\"get\"})}function i(){return Object(n[\"a\"])({url:\"/goods/getallgc\",method:\"post\"})}function s(e){return Object(n[\"a\"])({url:\"/goods/store\",method:\"post\",data:e})}function u(e){return Object(n[\"a\"])({url:\"/goods/output\",method:\"post\",data:e})}function c(e){return Object(n[\"a\"])({url:\"/goods/inspect\",method:\"post\",data:e})}function d(e){return Object(n[\"a\"])({url:\"/goods/\".concat(e,\"/rankup\"),method:\"patch\"})}function p(e,t,o){return Object(n[\"a\"])({url:\"/goods/export\",method:\"post\",responseType:\"blob\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}function f(e){return Object(n[\"a\"])({url:\"/goods/update\",method:\"put\",data:e})}function g(e){return Object(n[\"a\"])({url:\"/goods/delete\",method:\"delete\",data:e})}function h(e){return Object(n[\"a\"])({url:\"/goods/operate\",method:\"post\",data:e})}function m(e){return Object(n[\"a\"])({url:\"/goods/unlock\",method:\"post\",data:{goodsId:e}})}function b(e){return Object(n[\"a\"])({url:\"/goods/preOutput\",method:\"post\",data:e})}function y(e){return Object(n[\"a\"])({url:\"/goods/cancelPreOutput\",method:\"post\",data:{ids:e}})}function v(e){return Object(n[\"a\"])({url:\"/goods/recommend\",method:\"post\",data:{goodsCode:e}})}function O(e){return Object(n[\"a\"])({url:\"/goods/disassemble\",method:\"post\",data:e})}},3963:function(e,t,o){},4492:function(e,t,o){\"use strict\";o.d(t,\"g\",(function(){return a})),o.d(t,\"f\",(function(){return l})),o.d(t,\"e\",(function(){return i})),o.d(t,\"d\",(function(){return s})),o.d(t,\"h\",(function(){return u})),o.d(t,\"a\",(function(){return c})),o.d(t,\"i\",(function(){return d})),o.d(t,\"j\",(function(){return p})),o.d(t,\"b\",(function(){return f})),o.d(t,\"k\",(function(){return g})),o.d(t,\"c\",(function(){return h}));var r=o(\"5530\"),n=o(\"b775\");function a(e,t,o){return Object(n[\"a\"])({url:\"/warehouse/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}function l(){return Object(n[\"a\"])({url:\"/warehouse/getFourLevelStores\",method:\"get\"})}function i(){return Object(n[\"a\"])({url:\"/warehouse/getFiveLevelStores\",method:\"get\"})}function s(e){return Object(n[\"a\"])({url:\"/warehouse/\".concat(e,\"/detail\"),method:\"get\"})}function u(){return Object(n[\"a\"])({url:\"/warehouse/selectlist\",method:\"get\"})}function c(e){return Object(n[\"a\"])({url:\"/warehouse/create\",method:\"post\",data:e})}function d(e){return Object(n[\"a\"])({url:\"/warehouse/\".concat(e,\"/rankup\"),method:\"patch\"})}function p(e){return Object(n[\"a\"])({url:\"/warehouse/update\",method:\"put\",data:e})}function f(e){return Object(n[\"a\"])({url:\"/warehouse/delete\",method:\"delete\",data:e})}function g(e){return Object(n[\"a\"])({url:\"/warehouse/import\",method:\"post\",data:e})}function h(e,t,o){return Object(n[\"a\"])({url:\"/warehouse/export\",method:\"post\",responseType:\"blob\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}},\"55dd\":function(e,t,o){\"use strict\";var r=o(\"5ca1\"),n=o(\"d8e8\"),a=o(\"4bf8\"),l=o(\"79e5\"),i=[].sort,s=[1,2,3];r(r.P+r.F*(l((function(){s.sort(void 0)}))||!l((function(){s.sort(null)}))||!o(\"2f21\")(i)),\"Array\",{sort:function(e){return void 0===e?i.call(a(this)):i.call(a(this),n(e))}})},\"59c2\":function(e,t,o){\"use strict\";var r=o(\"3963\"),n=o.n(r);n.a},\"5abc\":function(e,t,o){\"use strict\";o.d(t,\"a\",(function(){return n}));var r=o(\"b85c\");function n(e,t){var o,n=[],a=Object(r[\"a\"])(t);try{for(a.s();!(o=a.n()).done;){var l=o.value,i={};for(var s in l){switch(s){case\"required\":i.required=!0,i.message=l.message||\"请输入\".concat(e);break;case\"selected\":i.required=!0,i.message=l.message||\"请选择\".concat(e),i.trigger=\"change\";break;case\"length\":i.type=\"string\";var u=l.length,c=u.min,d=u.max;c&&(i.min=l.length[0],i.message=l.message||\"\".concat(e,\"的长度应大于\").concat(c,\"个字符\")),d&&(i.max=l.length[1],i.message=l.message||\"\".concat(e,\"的长度应小于\").concat(d,\"个字符\")),c&&d&&(i.message=l.message||\"\".concat(e,\"的长度应介于\").concat(c,\"-\").concat(d,\"个字符之间\"));break;case\"range\":break;case\"max\":break;case\"min\":break;case\"date\":break;case\"datetime\":break;default:i[s]=l[s];break}i.trigger=i.trigger||\"blur\"}n.push(i)}}catch(p){a.e(p)}finally{a.f()}return n}},\"699c\":function(e,t,o){\"use strict\";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"app-container list\"},[o(\"el-form\",{ref:\"formOut\",attrs:{rules:e.out.rules,model:e.out.models,\"label-position\":\"right\",\"label-width\":e.out.dialog.labelWidth}},[o(\"el-row\",[o(\"el-col\",{attrs:{xl:24}},[o(\"el-form-item\",{attrs:{label:\"操作意图\",prop:\"storeOperateTypeId\"}},[o(\"el-select\",{attrs:{clearable:\"\",filterable:\"\"},model:{value:e.out.models.storeOperateTypeId,callback:function(t){e.$set(e.out.models,\"storeOperateTypeId\",t)},expression:\"out.models.storeOperateTypeId\"}},e._l(e.storeOperateTypes,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),o(\"el-row\",[o(\"el-col\",{attrs:{xl:4,lg:8,md:12,sm:18,xs:24}},[o(\"el-form-item\",{attrs:{label:\"点击添加\"}},[o(\"el-button\",{on:{click:e.addDomain}},[e._v(\"新增出库货物\")])],1)],1)],1),e._l(e.out.models.outGoods,(function(t,r){return o(\"div\",{key:r,staticClass:\"unit\"},[o(\"el-row\",[o(\"el-col\",{attrs:{xl:15,lg:16,md:16,sm:18,xs:24}},[o(\"el-form-item\",{key:t.key,attrs:{label:\"货物条形码/RFID码\",prop:\"outGoods.\"+r+\".goodsCode\",rules:{required:!0,message:\"请输入货物条形码/RFID码\",trigger:\"blur\"}}},[o(\"el-input\",{attrs:{disabled:!0},model:{value:t.goodsCode,callback:function(o){e.$set(t,\"goodsCode\",o)},expression:\"outGood.goodsCode\"}})],1)],1),o(\"el-col\",{attrs:{xl:1,lg:1,sm:1,xs:1}},[o(\"el-tooltip\",{staticClass:\"search-unit\",attrs:{effect:\"dark\",content:\"搜索货物\",placement:\"top-end\"}},[o(\"el-button\",{staticClass:\"button-operate button-detail\",attrs:{type:\"primary\",plain:\"\",circle:\"\",icon:\"el-icon-search\"},on:{click:function(o){return e.handleCreate(t)}}})],1)],1),o(\"el-tooltip\",{staticClass:\"remove-unit\",attrs:{effect:\"dark\",content:\"删除货物存储模式\",placement:\"top-end\"}},[o(\"el-button\",{attrs:{type:\"danger\",plain:\"\",icon:\"el-icon-delete\",circle:\"\"},on:{click:function(o){return o.preventDefault(),e.removeDomain(t)}}})],1)],1)],1)})),o(\"el-row\",[o(\"el-col\",{attrs:{xl:24}},[o(\"el-form-item\",{attrs:{label:\"提货人员信息\",prop:\"deliveryman\"}},[o(\"el-input\",{model:{value:e.out.models.deliveryman,callback:function(t){e.$set(e.out.models,\"deliveryman\",t)},expression:\"out.models.deliveryman\"}})],1)],1)],1),o(\"el-row\",[o(\"el-col\",{attrs:{xl:24}},[o(\"el-form-item\",{attrs:{label:\"出库备注描述\",prop:\"description\"}},[o(\"el-input\",{attrs:{type:\"textarea\"},model:{value:e.out.models.description,callback:function(t){e.$set(e.out.models,\"description\",t)},expression:\"out.models.description\"}})],1)],1)],1),o(\"el-row\",[o(\"el-col\",{attrs:{xl:24}},[o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.outData()}}},[e._v(\"预出库\")])],1)],1)],1)],2),o(\"el-dialog\",{attrs:{\"custom-class\":\"dialog-fullscreen dialog-create\",title:e.create.dialog.title,visible:e.create.dialog.visible,modal:!1,\"modal-append-to-body\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){return e.$set(e.create.dialog,\"visible\",t)}}},[o(\"div\",{staticClass:\"toolbar\"},[o(\"el-cascader\",{attrs:{placeholder:\"请选择存储级别\",options:e.fiveLevelStores,props:{expandTrigger:\"hover\",checkStrictly:!0},clearable:\"\"},on:{change:e.handleStoreChange,clear:e.handleQuery},model:{value:e.query.multiLevelStoreId,callback:function(t){e.$set(e.query,\"multiLevelStoreId\",t)},expression:\"query.multiLevelStoreId\"}}),o(\"el-cascader\",{attrs:{placeholder:\"请选择货物类别\",options:e.goodsCategoryClassificationWithCategory,props:{expandTrigger:\"hover\",checkStrictly:!0},clearable:\"\"},on:{change:e.handleCategoryChange,clear:e.handleQuery},model:{value:e.query.goodsCategoryId,callback:function(t){e.$set(e.query,\"goodsCategoryId\",t)},expression:\"query.goodsCategoryId\"}}),o(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"存储模式\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.storageModeId,callback:function(t){e.$set(e.query,\"storageModeId\",t)},expression:\"query.storageModeId\"}},e._l(e.goodsStorageModes,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),o(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"验货人员\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.inspectorId,callback:function(t){e.$set(e.query,\"inspectorId\",t)},expression:\"query.inspectorId\"}},e._l(e.operators,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),o(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"150px\"},attrs:{placeholder:\"正常存储位置\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.locationType,callback:function(t){e.$set(e.query,\"locationType\",t)},expression:\"query.locationType\"}},[o(\"el-option\",{attrs:{value:\"0\",label:\"运输设备\"}}),o(\"el-option\",{attrs:{value:\"1\",label:\"单元格\"}}),o(\"el-option\",{attrs:{value:\"2\",label:\"容器\"}})],1),o(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"锁定状态\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.locked,callback:function(t){e.$set(e.query,\"locked\",t)},expression:\"query.locked\"}},[o(\"el-option\",{attrs:{value:\"0\",label:\"未锁定\"}}),o(\"el-option\",{attrs:{value:\"1\",label:\"部分锁定\"}}),o(\"el-option\",{attrs:{value:\"2\",label:\"锁定\"}})],1),o(\"el-select\",{staticClass:\"query-item\",staticStyle:{width:\"120px\"},attrs:{placeholder:\"验货结果\",clearable:\"\"},on:{clear:e.handleQuery},model:{value:e.query.inspectionResult,callback:function(t){e.$set(e.query,\"inspectionResult\",t)},expression:\"query.inspectionResult\"}},[o(\"el-option\",{attrs:{value:\"0\",label:\"未通过\"}}),o(\"el-option\",{attrs:{value:\"1\",label:\"通过\"}})],1),o(\"el-button\",{staticClass:\"tool tool-query\",attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.handleQuery}},[e._v(\"查询\")])],1),o(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading.list,expression:\"loading.list\"},{name:\"adaptive\",rawName:\"v-adaptive\",value:{bottomOffset:55},expression:\"{ bottomOffset: 55 }\"}],ref:\"listTable\",attrs:{height:\"200px\",data:e.datas,\"default-sort\":e.sort,border:\"\",fit:\"\",\"highlight-current-row\":\"\"},on:{\"sort-change\":e.handleSort}},[o(\"el-table-column\",{attrs:{type:\"selection\",align:\"center\",width:\"35\"}}),o(\"el-table-column\",{attrs:{label:\"序号\",type:\"index\",align:\"center\",width:\"65\",fixed:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"span\",[e._v(e._s((e.page.current-1)*e.page.size+t.$index+1))])]}}])}),o(\"el-table-column\",{attrs:{label:\"最近更新时间\",prop:\"updateTime\",sortable:\"\",align:\"center\",width:\"160\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"货物RFID\",prop:\"goodsRfidCode\",sortable:\"\",align:\"center\",width:\"150\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"货物条形码\",prop:\"goodsBarCode\",sortable:\"\",align:\"center\",width:\"150\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"货物类别\",prop:\"goodsCategory.name\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"货物实际总数量\",prop:\"quality\",sortable:\"\",align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"被锁定的数量\",prop:\"qualityLocked\",sortable:\"\",align:\"center\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"存储模式名称\",prop:\"goodsStoragemode.name\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"}}),o(\"el-table-column\",{attrs:{label:\"货物存储位置类型\",prop:\"locationType\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var r=t.row;return[0==r.locationType?o(\"span\",[e._v(\"运输设备\")]):e._e(),1==r.locationType?o(\"span\",[e._v(\"单元格\")]):e._e(),2==r.locationType?o(\"span\",[e._v(\"容器\")]):e._e()]}}])}),o(\"el-table-column\",{attrs:{label:\"锁定状态\",prop:\"locked\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var r=t.row;return[0==r.locked?o(\"span\",[e._v(\"未锁定\")]):e._e(),1==r.locked?o(\"span\",[e._v(\"部分锁定\")]):e._e(),2==r.locked?o(\"span\",[e._v(\"锁定\")]):e._e()]}}])}),o(\"el-table-column\",{attrs:{label:\"验货结果\",prop:\"inspectionResult\",\"sort-orders\":e.sortOrders,align:\"center\",width:\"100\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){var r=t.row;return[0==r.inspectionResult?o(\"span\",[e._v(\"未通过\")]):e._e(),1==r.inspectionResult?o(\"span\",[e._v(\"通过\")]):e._e()]}}])})],1),o(\"pagination\",{attrs:{hidden:0==e.page.total,total:e.page.total,page:e.page.current,limit:e.page.size},on:{\"update:page\":function(t){return e.$set(e.page,\"current\",t)},\"update:limit\":function(t){return e.$set(e.page,\"size\",t)},pagination:e.getDatas}}),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(t){e.create.dialog.visible=!1}}},[e._v(\"取消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.handleCreates()}}},[e._v(\"确认出库\")])],1)],1)],1)},n=[],a=o(\"b85c\"),l=(o(\"6b54\"),o(\"55dd\"),o(\"1593\")),i=o(\"5abc\"),s=o(\"333d\"),u=o(\"33e5\"),c=o(\"0008\"),d=o(\"98b8\"),p=o(\"1eda\"),f=o(\"4492\"),g=o(\"d5cf\"),h={name:\"GoodsPreOutput\",components:{Pagination:s[\"a\"]},directives:{adaptive:l[\"a\"]},data:function(){return{storeOperateTypes:null,outGoodModel:null,datas:null,operators:null,fiveLevelStores:null,goodsStorageModes:null,goodsCategoryClassificationWithCategory:null,query:{multiLevelStoreId:null,goodsCategoryId:null,storageModeId:null,locationType:null,locked:null,inspectionResult:null,inspectorId:null},page:{total:0,current:1,size:20},sort:{prop:\"sort\",order:\"ascending\"},sortOrders:[\"ascending\",\"descending\"],out:{dialog:{title:\"货物出库\",visible:!1,labelWidth:\"150px\"},models:{storeOperateTypeId:null,requestDetailCode:null,deliveryman:null,description:null,goodsCode:null,outGoods:[]},rules:{storeOperateTypeId:Object(i[\"a\"])(\"操作类型\",[{selected:!0}]),goodsCode:Object(i[\"a\"])(\"货物RFID码或条形码\",[{required:!0},{length:[0,255]}]),requestDetailCode:Object(i[\"a\"])(\"领料详单编号\",[{required:!0},{length:[0,32]}]),deliveryman:Object(i[\"a\"])(\"提货人信息\",[{length:[0,50]}]),description:Object(i[\"a\"])(\"出库备注描述\",[{length:[0,255]}])}},loading:{list:!0,export:!1,detail:!1,update:!1},create:{dialog:{title:\"搜索货物\",visible:!1,labelWidth:\"120px\"},models:{name:null,description:null},rules:{name:Object(i[\"a\"])(\"名称\",[{required:!0},{length:[0,50]}]),canBeModified:Object(i[\"a\"])(\"出入类型\",[{selected:!0}]),description:Object(i[\"a\"])(\"描述\",[{length:[0,255]}])}}}},created:function(){this.getStoreOperateTypes(),this.getOperators(),this.getGoodsCategoryClassificationWithCategory(),this.getFiveLevelStores(),this.getGoodsStorageModes(),this.getPath()},methods:{getPath:function(){var e=\"\";if(null!=this.$route.query.goods){e=this.$route.query.goods;var t={goodsCode:\"\",quality:\"\"};t.quality=e.quality,t.goodsCode=null!==e.goodsBarCode?e.goodsBarCode:e.goodsRfidCode,this.out.models.outGoods.push(t)}},getStoreOperateTypes:function(){var e=this;c[\"f\"]().then((function(t){e.storeOperateTypes=t.data})).catch((function(e){}))},getDatas:function(){var e=this;this.loading.list=!0;var t=0;u[\"h\"](this.query,this.page,this.sort,t).then((function(t){e.datas=t.data.items,e.page.total=t.data.total,e.loading.list=!1;for(var o=0;o<e.page.total;o++)e.datas[o].quality=e.datas[o].quality.toString()+e.datas[o].goodsCategory.unitName,e.datas[o].qualityLocked=e.datas[o].qualityLocked.toString()+e.datas[o].goodsCategory.unitName;e.loading.list=!1})).catch((function(t){e.loading.list=!1}))},getOperators:function(){var e=this;d[\"d\"]().then((function(t){e.operators=t.data})).catch((function(e){}))},getGoodsCategoryClassificationWithCategory:function(){var e=this;p[\"f\"](2).then((function(t){e.goodsCategoryClassificationWithCategory=t.data})).catch((function(e){}))},getFiveLevelStores:function(){var e=this;f[\"e\"]().then((function(t){e.fiveLevelStores=t.data})).catch((function(e){}))},getGoodsStorageModes:function(){var e=this;g[\"a\"]().then((function(t){e.goodsStorageModes=t.data})).catch((function(e){}))},outData:function(){var e=this;this.$refs[\"formOut\"].validate((function(t){if(!t)return!1;u[\"n\"](e.out.models).then((function(t){e.out.models.requestDetailCode=\"\",e.out.models.outGoods=[{goodsCode:null,quality:null}],e.out.models.storeOperateTypeId=\"\",e.getDatas()})).catch((function(e){}))}))},handleCreate:function(e){this.create.dialog.visible=!0,this.outGoodModel=e,this.getDatas()},addDomain:function(){this.out.models.outGoods.push({goodsCode:\"\",quality:\"\"})},removeDomain:function(e){if(this.out.models.outGoods.length>-1){var t=this.out.models.outGoods.indexOf(e);-1!==t&&this.out.models.outGoods.splice(t,1)}},handleQuery:function(){this.page.current=1,this.getDatas()},handleSort:function(e){this.sort.prop=e.prop,this.sort.order=e.order,this.getDatas()},handleStoreChange:function(e){var t=e[e.length-1];this.query.multiLevelStoreId=t},handleCategoryChange:function(e){var t=e[e.length-1];this.query.goodsCategoryId=t},handleCreates:function(){if(0===this.$refs.listTable.selection.length)return this.$message({type:\"warning\",message:\"请在下面表格的左侧勾选需要出库的货物\",duration:4e3}),!1;var e=this.out.models.outGoods.indexOf(this.outGoodModel);-1!==e&&this.out.models.outGoods.splice(e,1);var t,o=Object(a[\"a\"])(this.$refs.listTable.selection);try{for(o.s();!(t=o.n()).done;){var r=t.value,n={goodsCode:null,quality:null};n.goodsCode=null!==r.goodsBarCode?r.goodsBarCode:r.goodsRfidCode,n.quality=parseInt(r.quality);for(var l=0;l<this.out.models.outGoods.length;l++)if(this.out.models.outGoods[l].goodsCode===n.goodsCode)return this.$message({type:\"warning\",message:\"选择货物存在重复，请重新选择\",duration:4e3}),!1;this.out.models.outGoods.push(n)}}catch(i){o.e(i)}finally{o.f()}this.create.dialog.visible=!1}}},m=h,b=(o(\"19cc\"),o(\"59c2\"),o(\"2877\")),y=Object(b[\"a\"])(m,r,n,!1,null,\"0b1fab39\",null);t[\"default\"]=y.exports},\"98b8\":function(e,t,o){\"use strict\";o.d(t,\"c\",(function(){return a})),o.d(t,\"d\",(function(){return l})),o.d(t,\"a\",(function(){return i})),o.d(t,\"e\",(function(){return s})),o.d(t,\"b\",(function(){return u}));var r=o(\"5530\"),n=o(\"b775\");function a(e,t,o){return Object(n[\"a\"])({url:\"/account/list\",method:\"post\",data:{page:{current:t.current,size:t.size},sort:{property:o.prop,direction:o.order},query:Object(r[\"a\"])({},e)}})}function l(){return Object(n[\"a\"])({url:\"/account/selectlist\",method:\"get\"})}function i(e){return Object(n[\"a\"])({url:\"/account/create\",method:\"post\",data:e})}function s(e){return Object(n[\"a\"])({url:\"/account/update\",method:\"put\",data:e})}function u(e){return Object(n[\"a\"])({url:\"/account/delete\",method:\"delete\",data:e})}},a20f:function(e,t,o){},d5cf:function(e,t,o){\"use strict\";o.d(t,\"a\",(function(){return n}));o(\"5530\");var r=o(\"b775\");function n(){return Object(r[\"a\"])({url:\"/goodsStoragemode/selectlist\",method:\"get\"})}}}]);","extractedComments":[]}