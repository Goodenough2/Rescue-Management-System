{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\layout\\components\\TagsView\\ScrollPane.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\layout\\components\\TagsView\\ScrollPane.vue","mtime":1593517268923},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCB0YWdBbmRUYWdTcGFjaW5nID0gNCAvLyB0YWdBbmRUYWdTcGFjaW5nDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1Njcm9sbFBhbmUnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsZWZ0OiAwDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHNjcm9sbFdyYXBwZXIoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIuJHJlZnMud3JhcA0KICAgIH0NCiAgfSwNCiAgdXBkYXRlZCgpIHsNCiAgICAvLyDkv67lpI3mu5rliqjmnaHkuI3mmL7npLrnmoRidWcNCiAgICB0aGlzLiRyZWZzLnNjcm9sbENvbnRhaW5lci51cGRhdGUoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlU2Nyb2xsKGUpIHsNCiAgICAgIGNvbnN0IGV2ZW50RGVsdGEgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZICogNDANCiAgICAgIGNvbnN0ICRzY3JvbGxXcmFwcGVyID0gdGhpcy5zY3JvbGxXcmFwcGVyDQogICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCArIGV2ZW50RGVsdGEgLyA0DQogICAgfSwNCiAgICBtb3ZlVG9UYXJnZXQoY3VycmVudFRhZykgew0KICAgICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyLiRlbA0KICAgICAgY29uc3QgJGNvbnRhaW5lcldpZHRoID0gJGNvbnRhaW5lci5vZmZzZXRXaWR0aA0KICAgICAgY29uc3QgJHNjcm9sbFdyYXBwZXIgPSB0aGlzLnNjcm9sbFdyYXBwZXINCiAgICAgIGNvbnN0IHRhZ0xpc3QgPSB0aGlzLiRwYXJlbnQuJHJlZnMudGFnDQoNCiAgICAgIGxldCBmaXJzdFRhZyA9IG51bGwNCiAgICAgIGxldCBsYXN0VGFnID0gbnVsbA0KDQogICAgICAvLyBmaW5kIGZpcnN0IHRhZyBhbmQgbGFzdCB0YWcNCiAgICAgIGlmICh0YWdMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgZmlyc3RUYWcgPSB0YWdMaXN0WzBdDQogICAgICAgIGxhc3RUYWcgPSB0YWdMaXN0W3RhZ0xpc3QubGVuZ3RoIC0gMV0NCiAgICAgIH0NCg0KICAgICAgaWYgKGZpcnN0VGFnID09PSBjdXJyZW50VGFnKSB7DQogICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSAwDQogICAgICB9IGVsc2UgaWYgKGxhc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsNCiAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9ICRzY3JvbGxXcmFwcGVyLnNjcm9sbFdpZHRoIC0gJGNvbnRhaW5lcldpZHRoDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBmaW5kIHByZVRhZyBhbmQgbmV4dFRhZw0KICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0YWdMaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0gPT09IGN1cnJlbnRUYWcpDQogICAgICAgIGNvbnN0IHByZXZUYWcgPSB0YWdMaXN0W2N1cnJlbnRJbmRleCAtIDFdDQogICAgICAgIGNvbnN0IG5leHRUYWcgPSB0YWdMaXN0W2N1cnJlbnRJbmRleCArIDFdDQoNCiAgICAgICAgLy8gdGhlIHRhZydzIG9mZnNldExlZnQgYWZ0ZXIgb2YgbmV4dFRhZw0KICAgICAgICBjb25zdCBhZnRlck5leHRUYWdPZmZzZXRMZWZ0ID0gbmV4dFRhZy4kZWwub2Zmc2V0TGVmdCArIG5leHRUYWcuJGVsLm9mZnNldFdpZHRoICsgdGFnQW5kVGFnU3BhY2luZw0KDQogICAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGJlZm9yZSBvZiBwcmV2VGFnDQogICAgICAgIGNvbnN0IGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0ID0gcHJldlRhZy4kZWwub2Zmc2V0TGVmdCAtIHRhZ0FuZFRhZ1NwYWNpbmcNCg0KICAgICAgICBpZiAoYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCA+ICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgKyAkY29udGFpbmVyV2lkdGgpIHsNCiAgICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCAtICRjb250YWluZXJXaWR0aA0KICAgICAgICB9IGVsc2UgaWYgKGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0IDwgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCkgew0KICAgICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdA0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["ScrollPane.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScrollPane.vue","sourceRoot":"src/layout/components/TagsView","sourcesContent":["<template>\r\n  <el-scrollbar ref=\"scrollContainer\" :vertical=\"false\" class=\"scroll-container\" @wheel.native.prevent=\"handleScroll\">\r\n    <slot />\r\n  </el-scrollbar>\r\n</template>\r\n\r\n<script>\r\nconst tagAndTagSpacing = 4 // tagAndTagSpacing\r\n\r\nexport default {\r\n  name: 'ScrollPane',\r\n  data() {\r\n    return {\r\n      left: 0\r\n    }\r\n  },\r\n  computed: {\r\n    scrollWrapper() {\r\n      return this.$refs.scrollContainer.$refs.wrap\r\n    }\r\n  },\r\n  updated() {\r\n    // 修复滚动条不显示的bug\r\n    this.$refs.scrollContainer.update()\r\n  },\r\n  methods: {\r\n    handleScroll(e) {\r\n      const eventDelta = e.wheelDelta || -e.deltaY * 40\r\n      const $scrollWrapper = this.scrollWrapper\r\n      $scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4\r\n    },\r\n    moveToTarget(currentTag) {\r\n      const $container = this.$refs.scrollContainer.$el\r\n      const $containerWidth = $container.offsetWidth\r\n      const $scrollWrapper = this.scrollWrapper\r\n      const tagList = this.$parent.$refs.tag\r\n\r\n      let firstTag = null\r\n      let lastTag = null\r\n\r\n      // find first tag and last tag\r\n      if (tagList.length > 0) {\r\n        firstTag = tagList[0]\r\n        lastTag = tagList[tagList.length - 1]\r\n      }\r\n\r\n      if (firstTag === currentTag) {\r\n        $scrollWrapper.scrollLeft = 0\r\n      } else if (lastTag === currentTag) {\r\n        $scrollWrapper.scrollLeft = $scrollWrapper.scrollWidth - $containerWidth\r\n      } else {\r\n        // find preTag and nextTag\r\n        const currentIndex = tagList.findIndex(item => item === currentTag)\r\n        const prevTag = tagList[currentIndex - 1]\r\n        const nextTag = tagList[currentIndex + 1]\r\n\r\n        // the tag's offsetLeft after of nextTag\r\n        const afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing\r\n\r\n        // the tag's offsetLeft before of prevTag\r\n        const beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagAndTagSpacing\r\n\r\n        if (afterNextTagOffsetLeft > $scrollWrapper.scrollLeft + $containerWidth) {\r\n          $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth\r\n        } else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\r\n          $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles/variables.scss';\r\n.scroll-container {\r\n  white-space: nowrap;\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  /deep/ {\r\n    .el-scrollbar__bar {\r\n      bottom: 0px;\r\n    }\r\n    .el-scrollbar__wrap {\r\n      height: 61px;\r\n    }\r\n    .el-scrollbar__bar.is-horizontal {\r\n      .el-scrollbar__thumb{\r\n        background-color: $scrollbarColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}