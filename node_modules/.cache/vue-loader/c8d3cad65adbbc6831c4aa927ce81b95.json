{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\views\\business-operation\\goods-disassemble.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\src\\views\\business-operation\\goods-disassemble.vue","mtime":1606225122599},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\rescue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYWRhcHRpdmUgZnJvbSAnQC9kaXJlY3RpdmUvZWwtdGFibGUnCmltcG9ydCBzZXRSdWxlIGZyb20gJ0AvdXRpbHMvZm9ybS12YWxpZGF0ZScKaW1wb3J0ICogYXMgc3RvcmVPcGVyYXRlVHlwZSBmcm9tICdAL2FwaS9sb2ctbWFuYWdlL3N0b3JlLW9wZXJhdGUtdHlwZScKaW1wb3J0ICogYXMgZ29vZHMgZnJvbSAnQC9hcGkvZ29vZHMtbWFuYWdlL2dvb2RzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEaXNhc3NlbWJsZScsCiAgLy8gY29tcG9uZW50czogeyBQYWdpbmF0aW9uIH0sCiAgZGlyZWN0aXZlczogeyBhZGFwdGl2ZSB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yZU9wZXJhdGVUeXBlczogbnVsbCwKICAgICAgY3JlYXRlOiB7CiAgICAgICAgZGlhbG9nOiB7IHRpdGxlOiAn6LSn54mp5ouG6KejJywgdmlzaWJsZTogdHJ1ZSwgbGFiZWxXaWR0aDogJzE1MHB4JyB9LAogICAgICAgIG1vZGVsczogeyBnb29kc0NvZGVPbGQ6IG51bGwsIGdvb2RzQmFyQ29kZU5ldzogbnVsbCwgZ29vZHNSZmlkQ29kZU5ldzogbnVsbCwgbG9jYXRpb25CYXJDb2RlTmV3OiBudWxsLCBsb2NhdGlvblJmaWRDb2RlTmV3OiBudWxsLCBxdWFsaXR5TmV3OiBudWxsIH0sCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgIGdvb2RzQ29kZU9sZDogc2V0UnVsZSgn5rqQ6LSn54mp56CBJywgW3sgcmVxdWlyZWQ6IHRydWUgfSwgeyBsZW5ndGg6IFswLCAzMl0gfV0pLAogICAgICAgICAgcXVhbGl0eU5ldzogc2V0UnVsZSgn5paw55qE6LSn54mp5pWw6YePJywgW3sgcmVxdWlyZWQ6IHRydWUgfV0pCiAgICAgICAgfQogICAgICB9LAogICAgICBsb2FkaW5nOiB7IGxpc3Q6IHRydWUsIGV4cG9ydDogZmFsc2UsIGRldGFpbDogZmFsc2UsIHVwZGF0ZTogZmFsc2UgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U3RvcmVPcGVyYXRlVHlwZXMoKQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UGF0aCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQYXRoKCkgewogICAgICBsZXQgZ29vZHNDb2RlID0gJycKICAgICAgZ29vZHNDb2RlID0gdGhpcy4kcm91dGUucXVlcnkuZ29vZHNDb2RlCiAgICAgIHRoaXMuY3JlYXRlLm1vZGVscy5nb29kc0NvZGUgPSBnb29kc0NvZGUKICAgIH0sCiAgICBnZXRTdG9yZU9wZXJhdGVUeXBlcygpIHsKICAgICAgY29uc3QgaW9UeXBlID0gMgogICAgICBzdG9yZU9wZXJhdGVUeXBlLmxpc3QoaW9UeXBlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnN0b3JlT3BlcmF0ZVR5cGVzID0gcmVzcG9uc2UuZGF0YQogICAgICB9KS5jYXRjaChyZWplY3QgPT4gewogICAgICB9KQogICAgfSwKICAgIG9wZXJhdGUoKSB7CiAgICAgIGdvb2RzLmRpc2Fzc2VtYmxlKHRoaXMuY3JlYXRlLm1vZGVscykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8g5Li65pa55L6/6L+e57ut5re75Yqg77yMY3JlYXRl5a+56K+d5qGG5LiN5YWz6ZetCiAgICAgICAgLy8g6ZyA6KaB5riF56m655qE6KGo5Y2V77yM5omL5Yqo5riF56m677yM6Iez5bCR5riF56m65LiA5Liq5b+F5aGr6aG577yM6Ziy5q2i54K55Ye75Lik6YGNCiAgICAgICAgdGhpcy5jcmVhdGUubW9kZWxzLmdvb2RzQ29kZU9sZCA9ICcnCiAgICAgICAgLy8g6YeN5paw6I635Y+W5pWw5o2uCiAgICAgICAgdGhpcy5nZXREYXRhcygpCiAgICAgIH0pLmNhdGNoKHJlamVjdCA9PiB7CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["goods-disassemble.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goods-disassemble.vue","sourceRoot":"src/views/business-operation","sourcesContent":["<template>\n  <div class=\"app-container list\">\n    <el-form ref=\"formCreate\" :rules=\"create.rules\" :model=\"create.models\" label-position=\"right\" :label-width=\"create.dialog.labelWidth\">\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"源货物码\" prop=\"goodsCodeOld\">\n            <el-input v-model=\"create.models.goodsCodeOld\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"新的货物条形码\" prop=\"goodsBarCodeNew\">\n            <el-input v-model=\"create.models.goodsBarCodeNew\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"新的货物RFID码\" prop=\"goodsRfidCodeNew\">\n            <el-input v-model=\"create.models.goodsRfidCodeNew\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"新的存储位置条形码\" prop=\"locationBarCodeNew\">\n            <el-input v-model=\"create.models.locationBarCodeNew\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"新的存储位置RFID码\" prop=\"locationRfidCodeNew\">\n            <el-input v-model=\"create.models.locationRfidCodeNew\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item label=\"新的货物数量\" prop=\"qualityNew\">\n            <el-input v-model=\"create.models.qualityNew\" type=\"number\"/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :xl=\"10\" :lg=\"13\" :md=\"15\" :sm=\"18\" :xs=\"24\">\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"operate()\">提交</el-button>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n  </div>\n</template>\n\n<script>\n\nimport adaptive from '@/directive/el-table'\nimport setRule from '@/utils/form-validate'\nimport * as storeOperateType from '@/api/log-manage/store-operate-type'\nimport * as goods from '@/api/goods-manage/goods'\n\nexport default {\n  name: 'Disassemble',\n  // components: { Pagination },\n  directives: { adaptive },\n  data() {\n    return {\n      storeOperateTypes: null,\n      create: {\n        dialog: { title: '货物拆解', visible: true, labelWidth: '150px' },\n        models: { goodsCodeOld: null, goodsBarCodeNew: null, goodsRfidCodeNew: null, locationBarCodeNew: null, locationRfidCodeNew: null, qualityNew: null },\n        rules: {\n          goodsCodeOld: setRule('源货物码', [{ required: true }, { length: [0, 32] }]),\n          qualityNew: setRule('新的货物数量', [{ required: true }])\n        }\n      },\n      loading: { list: true, export: false, detail: false, update: false }\n    }\n  },\n  created() {\n    this.getStoreOperateTypes()\n  },\n  mounted() {\n    this.getPath()\n  },\n  methods: {\n    getPath() {\n      let goodsCode = ''\n      goodsCode = this.$route.query.goodsCode\n      this.create.models.goodsCode = goodsCode\n    },\n    getStoreOperateTypes() {\n      const ioType = 2\n      storeOperateType.list(ioType).then(response => {\n        this.storeOperateTypes = response.data\n      }).catch(reject => {\n      })\n    },\n    operate() {\n      goods.disassemble(this.create.models).then(response => {\n        // 为方便连续添加，create对话框不关闭\n        // 需要清空的表单，手动清空，至少清空一个必填项，防止点击两遍\n        this.create.models.goodsCodeOld = ''\n        // 重新获取数据\n        this.getDatas()\n      }).catch(reject => {\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .app-container{\n    /*width: 70%;*/\n    /*margin: 120px 20px 0px 40px;*/\n    /*border: #C03639 dashed;*/\n    height: 100%;\n    margin: 50px 20px 0px 300px;\n    overflow: auto;\n  }\n</style>\n\n"]}]}