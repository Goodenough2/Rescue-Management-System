{"remainingRequest":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\views\\data-statistics\\store-statistic.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\src\\views\\data-statistics\\store-statistic.vue","mtime":1593517269039},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Neal Wang\\IdeaProjects\\mingxin_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYWRhcHRpdmUgZnJvbSAnQC9kaXJlY3RpdmUvZWwtdGFibGUnDQppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicNCmltcG9ydCAqIGFzIFVzZXIgZnJvbSAnQC9hcGkvc3lzdGVtLW1hbmFnZS91c2VyJw0KaW1wb3J0ICogYXMgc3RvcmVTdGF0aXN0aWMgZnJvbSAnQC9hcGkvZGF0YS1zdGF0aXN0aWNzL3N0b3JlLXN0YXRpc3RpYycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnU3RvcmVTdGF0aXN0aWMnLA0KICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwNCiAgZGlyZWN0aXZlczogeyBhZGFwdGl2ZSB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY2Nlc3M6IHRoaXMuJHN0b3JlLmdldHRlcnMuYWNjZXNzWydEYXRhU3RhdGlzdGljcyddWydTdG9yZVN0YXRpc3RpYyddLA0KICAgICAgZGF0YXM6IG51bGwsDQogICAgICBvcGVyYXRvcnM6IG51bGwsDQogICAgICBxdWVyeTogeyBvcGVyYXRvcklkOiBudWxsIH0sDQogICAgICBwYWdlOiB7IHRvdGFsOiAwLCBjdXJyZW50OiAxLCBzaXplOiAyMCB9LA0KICAgICAgc29ydDogeyBwcm9wOiAnc29ydCcsIG9yZGVyOiAnYXNjZW5kaW5nJyB9LA0KICAgICAgbG9hZGluZzogeyBsaXN0OiB0cnVlIH0sDQogICAgICBzb3J0T3JkZXJzOiBbJ2FzY2VuZGluZycsICdkZXNjZW5kaW5nJ10NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXREYXRhcygpDQogICAgdGhpcy5nZXRVc2VycygpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXREYXRhcygpIHsNCiAgICAgIHRoaXMubG9hZGluZy5saXN0ID0gdHJ1ZQ0KICAgICAgc3RvcmVTdGF0aXN0aWMuZ2V0TGlzdCh0aGlzLnF1ZXJ5LCB0aGlzLnBhZ2UsIHRoaXMuc29ydCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuZGF0YXMgPSByZXNwb25zZS5kYXRhLml0ZW1zDQogICAgICAgIHRoaXMucGFnZS50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWwNCiAgICAgICAgdGhpcy5sb2FkaW5nLmxpc3QgPSBmYWxzZQ0KICAgICAgfSkuY2F0Y2gocmVqZWN0ID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nLmxpc3QgPSBmYWxzZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFVzZXJzKCkgew0KICAgICAgVXNlci5nZXRsaXN0KCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMub3BlcmF0b3JzID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkuY2F0Y2gocmVqZWN0ID0+IHsNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVRdWVyeSgpIHsNCiAgICAgIHRoaXMucGFnZS5jdXJyZW50ID0gMQ0KICAgICAgdGhpcy5nZXREYXRhcygpDQogICAgfSwNCiAgICBoYW5kbGVTb3J0KGRhdGEpIHsNCiAgICAgIHRoaXMuc29ydC5wcm9wID0gZGF0YS5wcm9wDQogICAgICB0aGlzLnNvcnQub3JkZXIgPSBkYXRhLm9yZGVyDQogICAgICB0aGlzLmdldERhdGFzKCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["store-statistic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"store-statistic.vue","sourceRoot":"src/views/data-statistics","sourcesContent":["<template>\r\n  <div class=\"app-container list\">\r\n    <div class=\"toolbar\">\r\n      <el-select v-model=\"query.operatorId\" class=\"query-item\" style=\"width: 120px\" placeholder=\"操作人员\" clearable @clear=\"handleQuery\">\r\n        <el-option v-for=\"item in operators\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\" />\r\n      </el-select>\r\n      <el-button class=\"tool tool-query\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\">查询</el-button>\r\n    </div>\r\n\r\n    <el-table ref=\"listTable\" v-loading=\"loading.list\" v-adaptive=\"{ bottomOffset: 55 }\" height=\"200px\" :data=\"datas\" :default-sort=\"sort\" border fit highlight-current-row @sort-change=\"handleSort\">\r\n      <el-table-column type=\"selection\" align=\"center\" width=\"35\" />\r\n      <el-table-column label=\"序号\" type=\"index\" align=\"center\" width=\"65\" fixed>\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ (page.current - 1) * page.size + scope.$index + 1 }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"盘整时间\" prop=\"statisticTime\" :sort-orders=\"sortOrders\" align=\"center\" width=\"300\" show-overflow-tooltip />\r\n      <el-table-column label=\"操作人员\" prop=\"operator.userName\" :sort-orders=\"sortOrders\" align=\"center\" show-overflow-tooltip />\r\n      <el-table-column fixed=\"right\" label=\"操作\" align=\"center\" width=\"60\">\r\n        <template slot-scope=\"{row}\">\r\n          <el-tooltip v-if=\"access.export.allow\" class=\"item\" effect=\"dark\" content=\"下载盘整记录\" placement=\"top-end\">\r\n            <a :href=\"row.fileURL\" download=\"盘整记录.txt\"><el-button type=\"primary\" plain class=\"button-operate button-detail\" size=\"mini\"><i class=\"vue-icon-export\" /></el-button></a>\r\n          </el-tooltip>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination :hidden=\"page.total==0\" :total=\"page.total\" :page.sync=\"page.current\" :limit.sync=\"page.size\" @pagination=\"getDatas\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport adaptive from '@/directive/el-table'\r\nimport Pagination from '@/components/Pagination'\r\nimport * as User from '@/api/system-manage/user'\r\nimport * as storeStatistic from '@/api/data-statistics/store-statistic'\r\n\r\nexport default {\r\n  name: 'StoreStatistic',\r\n  components: { Pagination },\r\n  directives: { adaptive },\r\n  data() {\r\n    return {\r\n      access: this.$store.getters.access['DataStatistics']['StoreStatistic'],\r\n      datas: null,\r\n      operators: null,\r\n      query: { operatorId: null },\r\n      page: { total: 0, current: 1, size: 20 },\r\n      sort: { prop: 'sort', order: 'ascending' },\r\n      loading: { list: true },\r\n      sortOrders: ['ascending', 'descending']\r\n    }\r\n  },\r\n  created() {\r\n    this.getDatas()\r\n    this.getUsers()\r\n  },\r\n  methods: {\r\n    getDatas() {\r\n      this.loading.list = true\r\n      storeStatistic.getList(this.query, this.page, this.sort).then(response => {\r\n        this.datas = response.data.items\r\n        this.page.total = response.data.total\r\n        this.loading.list = false\r\n      }).catch(reject => {\r\n        this.loading.list = false\r\n      })\r\n    },\r\n    getUsers() {\r\n      User.getlist().then(response => {\r\n        this.operators = response.data\r\n      }).catch(reject => {\r\n      })\r\n    },\r\n    handleQuery() {\r\n      this.page.current = 1\r\n      this.getDatas()\r\n    },\r\n    handleSort(data) {\r\n      this.sort.prop = data.prop\r\n      this.sort.order = data.order\r\n      this.getDatas()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}